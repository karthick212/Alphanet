(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"9OBf":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class i{}var o=e("pMnS"),s=e("s7LF"),u=e("SVse");e("mrSG");class d{constructor(l){"string"==typeof l&&(this.id=this.text=l,this.isDisabled=!1),"object"==typeof l&&(this.id=l.id,this.text=l.text,this.isDisabled=l.isDisabled)}}const r=()=>{};let a=class{constructor(l){this.cdr=l,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this.filter=new d(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1},this.disabled=!1,this.onFilterChange=new t.EventEmitter,this.onDropDownClose=new t.EventEmitter,this.onSelect=new t.EventEmitter,this.onDeSelect=new t.EventEmitter,this.onSelectAll=new t.EventEmitter,this.onDeSelectAll=new t.EventEmitter,this.onTouchedCallback=r,this.onChangeCallback=r}set placeholder(l){this._placeholder=l||"Select"}set settings(l){this._settings=l?Object.assign(this.defaultSettings,l):Object.assign(this.defaultSettings)}set data(l){this._data=l?l.map(l=>new d("string"==typeof l?l:{id:l[this._settings.idField],text:l[this._settings.textField],isDisabled:l[this._settings.disabledField]})):[]}onFilterTextChange(l){this.onFilterChange.emit(l)}onItemClick(l,n){if(this.disabled||n.isDisabled)return!1;const e=this.isSelected(n),t=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;e?this.removeSelected(n):t&&this.addSelected(n),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(l){if(null!=l&&l.length>0)if(this._settings.singleSelection)try{if(l.length>=1){const n=l[0];this.selectedItems=[new d("string"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField],isDisabled:n[this._settings.disabledField]})]}}catch(n){}else{const n=l.map(l=>new d("string"==typeof l?l:{id:l[this._settings.idField],text:l[this._settings.textField],isDisabled:l[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?n.splice(0,this._settings.limitSelection):n}else this.selectedItems=[];this.onChangeCallback(l)}registerOnChange(l){this.onChangeCallback=l}registerOnTouched(l){this.onTouchedCallback=l}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(l,n){return n.id}isSelected(l){let n=!1;return this.selectedItems.forEach(e=>{l.id===e.id&&(n=!0)}),n}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){const l=this._data.filter(l=>l.isDisabled).length;return this._data.length===this.selectedItems.length+l}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(l){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(l)):this.selectedItems.push(l),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(l))}removeSelected(l){this.selectedItems.forEach(n=>{l.id===n.id&&this.selectedItems.splice(this.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(l))}emittedValue(l){const n=[];if(Array.isArray(l))l.map(l=>{n.push(l.id===l.text?l.text:this.objectify(l))});else if(l)return l.id===l.text?l.text:this.objectify(l);return n}objectify(l){const n={};return n[this._settings.idField]=l.id,n[this._settings.textField]=l.text,n[this._settings.disabledField]=l.isDisabled,n}toggleDropdown(l){l.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(l=>!l.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},c=class{constructor(l){this._elementRef=l,this.clickOutside=new t.EventEmitter}onClick(l,n){n&&(this._elementRef.nativeElement.contains(n)||this.clickOutside.emit(l))}},g=class{transform(l,n){return l&&n?l.filter(l=>this.applyFilter(l,n)):l}applyFilter(l,n){return!(n.text&&l.text&&-1===l.text.toLowerCase().indexOf(n.text.toLowerCase()))}};var m;let p=m=class{static forRoot(){return{ngModule:m}}};var h=t["\u0275crt"]({encapsulation:0,styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],data:{}});function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component._placeholder)})}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","selected-item"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,1,"a",[["style","padding-top:2px;padding-left:2px;color:white"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onItemClick(e,l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["x"]))],null,function(l,n){l(n,0,0,n.context.index>n.component._settings.itemsShowLimit-1),l(n,1,0,n.context.$implicit.text)})}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","padding-right: 6px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["+",""]))],null,function(l,n){l(n,1,0,n.component.itemShowRemaining())})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","multiselect-item-checkbox"],["style","border-bottom: 1px solid #ccc;padding:10px"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleSelectAll()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"input",[["aria-label","multiselect-select-all"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""]))],null,function(l,n){var e=n.component;l(n,1,0,e.isAllItemsSelected(),e.disabled||e.isLimitSelectionReached()),l(n,3,0,e.isAllItemsSelected()?e._settings.unSelectAllText:e._settings.selectAllText)})}function _(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"li",[["class","filter-textbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"input",[["aria-label","multiselect-search"],["type","text"]],[[8,"readOnly",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var i=!0,o=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(o.filter.text=e)&&i),"ngModelChange"===n&&(i=!1!==o.onFilterTextChange(e)&&i),i},null,null)),t["\u0275did"](2,16384,null,0,s.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,s.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,s.NG_VALUE_ACCESSOR,function(l){return[l]},[s.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,s.NgModel,[[8,null],[8,null],[8,null],[6,s.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,s.NgControl,null,[s.NgModel]),t["\u0275did"](6,16384,null,0,s.NgControlStatus,[[4,s.NgControl]],null,null)],function(l,n){l(n,4,0,n.component.filter.text)},function(l,n){var e=n.component;l(n,1,0,e.disabled,e._settings.searchPlaceholderText,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","multiselect-item-checkbox"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onItemClick(e,l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"input",[["aria-label","multiselect-item"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSelected(n.context.$implicit),e.disabled||e.isLimitSelectionReached()&&!e.isSelected(n.context.$implicit)||n.context.$implicit.isDisabled),l(n,3,0,n.context.$implicit.text)})}function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[["class","no-data"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){l(n,2,0,n.component._settings.noDataAvailablePlaceholderText)})}function O(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","multiselect-dropdown"],["tabindex","=0"]],null,[[null,"blur"],[null,"clickOutside"],["document","click"]],function(l,n,e){var i=!0,o=l.component;return"document:click"===n&&(i=!1!==t["\u0275nov"](l,1).onClick(e,e.target)&&i),"blur"===n&&(i=!1!==o.onTouched()&&i),"clickOutside"===n&&(i=!1!==o.closeDropdown()&&i),i},null,null)),t["\u0275did"](1,16384,null,0,c,[t.ElementRef],null,{clickOutside:"clickOutside"}),(l()(),t["\u0275eld"](2,0,null,null,11,"div",[],[[2,"disabled",null]],null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,10,"span",[["class","dropdown-btn"],["tabindex","-1"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleDropdown(e)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](5,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](7,278528,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),t["\u0275eld"](8,0,null,null,5,"span",[["style","float:right !important;padding-right:4px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](10,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,2,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](13,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275eld"](14,0,null,null,11,"div",[["class","dropdown-list"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,4,"ul",[["class","item1"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](17,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](19,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,null,5,"ul",[["class","item2"]],[[4,"maxHeight",null]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,x)),t["\u0275did"](22,278528,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,g,[]),(l()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](25,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,5,0,0==e.selectedItems.length),l(n,7,0,e.selectedItems,e.trackByFn),l(n,10,0,e.itemShowRemaining()>0),l(n,13,0,e._settings.defaultOpen?"dropdown-up":"dropdown-down"),l(n,17,0,e._data.length>0&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),l(n,19,0,e._data.length>0&&e._settings.allowSearchFilter),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform(e._data,e.filter))),l(n,25,0,0==e._data.length)},function(l,n){var e=n.component;l(n,2,0,e.disabled),l(n,14,0,!e._settings.defaultOpen),l(n,20,0,e._settings.maxHeight+"px")})}var k=e("iInd"),w=e("z6cu");class M{constructor(l,n,e,t){this.fb=l,this.router=n,this.api=e,this.route=t,this.dropdownList=[],this.selectedItems=[],this.disabled=!1,this.dropdownSettings={},this.temp_var=!1,this.temp=!1,this.submitted=!1,this.show=!1,this.flag=1,this.marked=!1,this.theCheckbox=!1}ngOnInit(){this.api.isInArray(this.api.getPermissions(),"3")||this.router.navigate(["dashboard"]),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"Menuname",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1},this.route.params.subscribe(l=>{l.id&&this.loadEditLists(l.id)}),this.form=this.fb.group({UPid:[""],userid:[null,s.Validators.compose([s.Validators.required])],permissions:this.fb.array([]),loginid:[this.api.getLoginId()]}),this.loadAllMenu()}onItemSelect(l){console.log(l),this.form.controls.permissions.push(new s.FormControl(l.id))}onItemDeSelect(l){const n=this.form.controls.permissions;let e=n.controls.findIndex(n=>n.value==l.id);n.removeAt(e)}onSelectAll(l){console.log(l);let n=l;const e=this.form.controls.permissions;for(let t=0;t<Object.keys(l).length;t++)e.push(new s.FormControl(n[t].id))}loadAllMenu(){var l=this.form.value;delete l.UPid,delete l.loginid,delete l.permissions,delete l.userid,l.id=null,console.log("View Menu Details :"+JSON.stringify(l)),this.api.getviewmenu(l).subscribe(l=>{if(Object.keys(l.data).length){console.log("load menu"+JSON.stringify(l.data));let n=l.data;this.menuLists=n,this.dropdownList=n,this.temp_var=!0}else this.temp_var=!1},l=>Object(w.a)(l))}submit(){this.submitted=!0;var l=this.form.value;if(this.form.value.UPid){l.id=this.form.value.UPid;var n=this.form.value.permissions.toString();l.permissions=n,delete l.UPid,console.log("Edit Permission Details :"+JSON.stringify(l)),this.api.edituserperm(l).subscribe(l=>{Object.keys(l).length?(this.submitted=!0,this.invalid=!0,this.errorMsg="permission updated Successfully",console.log("update permission success"),this.router.navigate(["userpermissions"]),this.form.reset()):(this.submitted=!1,this.invalid=!1,this.errorMsg="user permission not updated",console.log("update user permission failed"))},l=>(this.submitted=!0,this.invalid=!1,this.errorMsg=l,Object(w.a)(l)))}else n=this.form.value.permissions.toString(),l.permissions=n,delete l.UPid,console.log("add permission Details :"+JSON.stringify(l)),this.api.newuserperm(l).subscribe(l=>{Object.keys(l).length?(this.submitted=!0,this.invalid=!0,this.errorMsg="Permission Added Successfully",console.log("permission add success"),this.router.navigate(["userpermissions"]),this.form.reset()):(this.submitted=!1,this.invalid=!1,this.errorMsg="Permission Not Added",console.log("add permission failed"))},l=>(this.submitted=!0,this.invalid=!1,this.errorMsg=l,Object(w.a)(l)))}loadEditLists(l){this.api.getedituserperm(l).subscribe(l=>{if(Object.keys(l.data).length){let n=JSON.parse(JSON.stringify(l.data));"superadmin"==n[0].UserType&&(this.disabled=!0),this.temp_var=!0,this.form.controls.UPid.setValue(n[0].id),this.form.controls.userid.setValue(n[0].UserType),this.loadAllEditMenu(n[0].Permissions),console.log("lists :"+JSON.stringify(l.data))}},l=>Object(w.a)(l))}onReset(){this.submitted=!1,this.form.reset()}onChange(l,n){const e=this.form.controls.permissions;if(n)e.push(new s.FormControl(l));else{let n=e.controls.findIndex(n=>n.value==l);e.removeAt(n)}}loadAllEditMenu(l){var n=this.form.value;delete n.UPid,delete n.loginid,delete n.permissions,delete n.userid,n.id=l,console.log("View Menu Details :"+JSON.stringify(n)),this.api.getviewmenu(n).subscribe(l=>{if(Object.keys(l.data).length){console.log("load Edit menu"+JSON.stringify(l.data));let n=l.data;this.selectedItems=n,this.onSelectAll(n),this.temp_var=!0}else this.temp_var=!1},l=>Object(w.a)(l))}}var P=e("H+bZ"),I=t["\u0275crt"]({encapsulation:2,styles:["\n.container {\n    display: inline !important;\n}\n",['.container{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container input{position:absolute;opacity:0;cursor:pointer}.checkmark{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee}.container:hover input~.checkmark{background-color:#ccc}.container input:checked~.checkmark{background-color:#2196f3}.checkmark:after{content:"";position:absolute;display:none}.container input:checked~.checkmark:after{display:block}.container .checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}']],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"p",[["class","alert alert-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""]))],null,function(l,n){l(n,3,0,n.component.errorMsg)})}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" User Role is required "]))],null,null)}function A(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-md btn-success"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Submit "])),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","ace-icon fa fa-arrow-right icon-on-right bigger-110"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,!n.component.form.valid)})}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn"],["type","reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onReset()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","ace-icon fa fa-undo bigger-110"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset "]))],null,null)}function N(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,59,"div",[["class","widget-main"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,58,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var i=!0,o=l.component;return"submit"===n&&(i=!1!==t["\u0275nov"](l,3).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,3).onReset()&&i),"submit"===n&&(i=!1!==o.submit()&&i),i},null,null)),t["\u0275did"](2,16384,null,0,s["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,540672,null,0,s.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,s.ControlContainer,null,[s.FormGroupDirective]),t["\u0275did"](5,16384,null,0,s.NgControlStatusGroup,[[4,s.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,5,"input",[["class","form-control input-sm"],["formControlName","UPid"],["id","UPid"],["placeholder","UPid"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,7).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&i),i},null,null)),t["\u0275did"](7,16384,null,0,s.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,s.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,s.NG_VALUE_ACCESSOR,function(l){return[l]},[s.DefaultValueAccessor]),t["\u0275did"](9,671744,null,0,s.FormControlName,[[3,s.ControlContainer],[8,null],[8,null],[6,s.NG_VALUE_ACCESSOR],[2,s["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,s.NgControl,null,[s.FormControlName]),t["\u0275did"](11,16384,null,0,s.NgControlStatus,[[4,s.NgControl]],null,null),(l()(),t["\u0275eld"](12,0,null,null,34,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,24,"div",[["class","col-xs-4 col-md-offset-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,3,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" User Role "])),(l()(),t["\u0275eld"](16,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](18,0,null,null,17,"select",[["class","form-control input-sm"],["formControlName","userid"],["id","userid"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var i=!0;return"change"===n&&(i=!1!==t["\u0275nov"](l,19).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,19).onTouched()&&i),i},null,null)),t["\u0275did"](19,16384,null,0,s.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,s.NG_VALUE_ACCESSOR,function(l){return[l]},[s.SelectControlValueAccessor]),t["\u0275did"](21,671744,null,0,s.FormControlName,[[3,s.ControlContainer],[8,null],[8,null],[6,s.NG_VALUE_ACCESSOR],[2,s["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,s.NgControl,null,[s.FormControlName]),t["\u0275did"](23,16384,null,0,s.NgControlStatus,[[4,s.NgControl]],null,null),(l()(),t["\u0275eld"](24,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](25,147456,null,0,s.NgSelectOption,[t.ElementRef,t.Renderer2,[2,s.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](26,147456,null,0,s["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Select Role "])),(l()(),t["\u0275eld"](28,0,null,null,3,"option",[["value","superadmin"]],null,null,null,null,null)),t["\u0275did"](29,147456,null,0,s.NgSelectOption,[t.ElementRef,t.Renderer2,[2,s.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](30,147456,null,0,s["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Super Admin"])),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[["value","admin"]],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,s.NgSelectOption,[t.ElementRef,t.Renderer2,[2,s.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,s["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Administrator"])),(l()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](37,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](38,0,null,null,8,"div",[["class","col-xs-4 col-md-offset-3"],["style","clear:both;margin-top: 20px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,7,"div",[["class","custom-multidw"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,6,"ng-multiselect-dropdown",[["class","container"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"blur"]],function(l,n,e){var i=!0,o=l.component;return"blur"===n&&(i=!1!==t["\u0275nov"](l,41).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(o.selectedItems=e)&&i),"onSelect"===n&&(i=!1!==o.onItemSelect(e)&&i),"onSelectAll"===n&&(i=!1!==o.onSelectAll(e)&&i),"onDeSelect"===n&&(i=!1!==o.onItemDeSelect(e)&&i),i},O,h)),t["\u0275did"](41,49152,null,0,a,[t.ChangeDetectorRef],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],settings:[2,"settings"],data:[3,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll"}),t["\u0275prd"](1024,null,s.NG_VALUE_ACCESSOR,function(l){return[l]},[a]),t["\u0275did"](43,671744,null,0,s.NgModel,[[2,s.ControlContainer],[8,null],[8,null],[6,s.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t["\u0275pod"](44,{standalone:0}),t["\u0275prd"](2048,null,s.NgControl,null,[s.NgModel]),t["\u0275did"](46,16384,null,0,s.NgControlStatus,[[4,s.NgControl]],null,null),(l()(),t["\u0275eld"](47,0,null,null,0,"div",[["class","space space-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,10,"div",[["class","form-actions center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,3,"button",[["class","btn btn-md btn-success"],["routerLink","/userpermissions"]],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,51).onClick()&&i),i},null,null)),t["\u0275did"](51,16384,null,0,k.l,[k.k,k.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),(l()(),t["\u0275ted"](-1,null,[" Back "])),(l()(),t["\u0275eld"](53,0,null,null,0,"i",[["class","ace-icon fa fa-exchange icon-on-right bigger-110"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](56,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](59,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.form),l(n,9,0,"UPid"),l(n,21,0,"userid"),l(n,25,0,""),l(n,26,0,""),l(n,29,0,"superadmin"),l(n,30,0,"superadmin"),l(n,33,0,"admin"),l(n,34,0,"admin"),l(n,37,0,e.form.controls.userid.touched&&e.form.controls.userid.hasError("required")),l(n,41,0,"Menus",e.disabled,e.dropdownSettings,e.dropdownList);var t=e.disabled,i=e.selectedItems,o=l(n,44,0,!0);l(n,43,0,t,i,o),l(n,51,0,"/userpermissions"),l(n,56,0,!e.disabled),l(n,59,0,!e.disabled)},function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending),l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,18,0,t["\u0275nov"](n,23).ngClassUntouched,t["\u0275nov"](n,23).ngClassTouched,t["\u0275nov"](n,23).ngClassPristine,t["\u0275nov"](n,23).ngClassDirty,t["\u0275nov"](n,23).ngClassValid,t["\u0275nov"](n,23).ngClassInvalid,t["\u0275nov"](n,23).ngClassPending),l(n,40,0,t["\u0275nov"](n,46).ngClassUntouched,t["\u0275nov"](n,46).ngClassTouched,t["\u0275nov"](n,46).ngClassPristine,t["\u0275nov"](n,46).ngClassDirty,t["\u0275nov"](n,46).ngClassValid,t["\u0275nov"](n,46).ngClassInvalid,t["\u0275nov"](n,46).ngClassPending)})}function F(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","main-content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","main-content-inner"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","breadcrumbs ace-save-state"],["id","breadcrumbs"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,6,"ul",[["class","breadcrumb"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","ace-icon fa fa-home home-icon"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Home"])),(l()(),t["\u0275eld"](8,0,null,null,1,"li",[["class","active"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["ADD USER PERMISSION"])),(l()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,5,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,4,"div",[["class","widget-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](14,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](16,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,14,0,e.invalid),l(n,16,0,e.temp_var)},null)}function E(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-addpermission",[],null,null,null,F,I)),t["\u0275did"](1,114688,null,0,M,[s.FormBuilder,k.k,P.a,k.a],null,null)],function(l,n){l(n,1,0)},null)}var V=t["\u0275ccf"]("app-addpermission",M,E,{},{},[]);class T{}e.d(n,"AddpermissionModuleNgFactory",function(){return U});var U=t["\u0275cmf"](i,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,V]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[t.LOCALE_ID,[2,u["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,s["\u0275angular_packages_forms_forms_o"],s["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,s.FormBuilder,s.FormBuilder,[]),t["\u0275mpd"](1073742336,u.CommonModule,u.CommonModule,[]),t["\u0275mpd"](1073742336,k.o,k.o,[[2,k.t],[2,k.k]]),t["\u0275mpd"](1073742336,T,T,[]),t["\u0275mpd"](1073742336,s["\u0275angular_packages_forms_forms_d"],s["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,s.FormsModule,s.FormsModule,[]),t["\u0275mpd"](1073742336,s.ReactiveFormsModule,s.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,p,p,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,k.i,function(){return[[{path:"",component:M}]]},[])])})}}]);