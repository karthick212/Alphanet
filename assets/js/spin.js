!function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,o=document.createElement(t||"div");for(i in e){o[i]=e[i]}return o}function e(t){for(var e=1,i=arguments.length;i>e;e++){t.appendChild(arguments[e])}return t}function i(t,e,i,o){var n=["opacity",e,~~(100*t),i,o].join("-"),r=.01+i/o*100,s=Math.max(1-(1-t)/e*(100-r),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return u[n]||(d.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",d.cssRules.length),u[n]=1),n}function o(t,e){var i,o,n=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==n[e])return e;for(o=0;o<p.length;o++){if(i=p[o]+e,void 0!==n[i])return i}}function n(t,e){for(var i in e){t.style[o(t,i)||i]=e[i]}return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i){void 0===t[o]&&(t[o]=i[o])}}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=r(t||{},a.defaults,f)}function l(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,o){function r(){return n(i("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function a(t,a,l){e(u,e(n(r(),{rotation:360/o.lines*t+"deg",left:~~a}),e(n(i("roundrect",{arcsize:o.corners}),{width:c,height:o.scale*o.width,left:o.scale*o.radius,top:-o.scale*o.width>>1,filter:l}),i("fill",{color:s(o.color,t),opacity:o.opacity}),i("stroke",{opacity:0}))))}var l,c=o.scale*(o.length+o.width),d=2*o.scale*c,p=-(o.width+o.length)*o.scale*2+"px",u=n(r(),{position:"absolute",top:p,left:p});if(o.shadow)for(l=1;l<=o.lines;l++){a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}for(l=1;l<=o.lines;l++){a(l)}return e(t,u)},a.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=n.childNodes[e+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var c,d,p=["webkit","Moz","ms","O"],u={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function e(i){this.stop();var o=this,r=o.opts,s=o.el=t(null,{className:r.className});if(n(s,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),i&&i.insertBefore(s,i.firstChild||null),s.setAttribute("role","progressbar"),o.lines(s,o.opts),!c){var a,l=0,d=(r.lines-1)*(1-r.direction)/2,p=r.fps,u=p/r.speed,f=(1-r.opacity)/(u*r.trail/100),h=u/r.lines;!function t(){l++;for(var e=0;e<r.lines;e++){a=Math.max(1-(l+(r.lines-e)*h)%u*f,r.opacity),o.opacity(s,e*r.direction+d,a,r)}o.timeout=o.el&&setTimeout(t,~~(1e3/p))}()}return o},stop:function t(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function o(r,a){function l(e,i){return n(t(),{position:"absolute",width:a.scale*(a.length+a.width)+"px",height:a.scale*a.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*p+a.rotate)+"deg) translate("+a.scale*a.radius+"px,0)",borderRadius:(a.corners*a.scale*a.width>>1)+"px"})}for(var d,p=0,u=(a.lines-1)*(1-a.direction)/2;p<a.lines;p++){d=n(t(),{position:"absolute",top:1+~(a.scale*a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:c&&i(a.opacity,a.trail,u+p*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&e(d,n(l("#000","0 0 4px #000"),{top:"2px"})),e(r,e(d,l(s(a.color,p),"0 0 1px rgba(0,0,0,.1)")))}return r},opacity:function t(e,i,o){i<e.childNodes.length&&(e.childNodes[i].style.opacity=o)}}),"undefined"!=typeof document){d=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var h=n(t("group"),{behavior:"url(#default#VML)"});!o(h,"transform")&&h.adj?l():c=o(h,"animation")}return a});