!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return A(t,Yt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Yt)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var r=Math.floor(n/e.length),s=Math.floor(n-r*(e.length-1)),o=[],a=[],l=[],d=0;u(e),e.each(function(n,i){var u=n===e.length-1?s:r,c=t(i).outerHeight(!0);u>c?(o.push(i),a.push(c),l.push(t(i).height())):d+=c}),i&&(n-=d,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?s:r,u=a[e],d=l[e],c=i-(u-d);i>u&&t(n).height(c)})}function u(t){t.height("")}function d(e){var n=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function c(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function f(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function g(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function p(t){var e=t.offset(),n=m(t),i=e.left+S(t,"border-left-width")+n.left,r=e.top+S(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function v(t){var e=t.offset(),n=e.left+S(t,"border-left-width")+S(t,"padding-left"),i=e.top+S(t,"border-top-width")+S(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}}function m(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===Wt&&(Wt=w()),Wt}function w(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function S(t,e){return parseFloat(t.css(e))||0}function b(t){return 1==t.which&&!t.ctrlKey}function E(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function D(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function C(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function H(t,e){return{left:t.left-e.left,top:t.top-e.top}}function T(e){var n,i,r=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:t.isArray(e)&&(s=e),n=0;n<s.length;n++){i=s[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i})}return r}function x(t,e,n){var i,r;for(i=0;i<n.length;i++){if(r=R(t,e,n[i]))return r}return 0}function R(t,e,n){return n.func?n.func(t,e):k(t[n.field],e[n.field])*(n.order||1)}function k(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function I(t,e){var n,i,r,s,o=t.start,a=t.end,l=e.start,u=e.end;return a>l&&u>o?(o>=l?(n=o.clone(),r=!0):(n=l.clone(),r=!1),u>=a?(i=a.clone(),s=!0):(i=u.clone(),s=!1),{start:n,end:i,isStart:r,isEnd:s}):void 0}function F(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function z(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function M(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function N(t,e){var n,i,r;for(n=0;n<Zt.length&&(i=Zt[n],r=B(i,t,e),!(r>=1&&et(r)));n++){}return i}function B(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function L(t,e,n){var i;return V(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&et(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function G(t,e){var n,i;return V(t)||V(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&et(n)&&Math.abs(i)>=1&&et(i)?n/i:t.asDays()/e.asDays())}function P(t,n){var i;return V(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&et(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function V(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function O(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function _(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function A(t,e){var n,i,r,s,o,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],s=t.length-1;s>=0;s--){if(o=t[s][i],"object"==typeof o)r.unshift(o);else if(void 0!==o){l[i]=o;break}}r.length&&(l[i]=A(r))}for(n=t.length-1;n>=0;n--){a=t[n];for(i in a){i in l||(l[i]=a[i])}}return l}function Y(t){var e=function t(){};return e.prototype=t,new e}function W(t,e){for(var n in t){Z(t,n)&&(e[n]=t[n])}}function j(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++){i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}}function Z(t,e){return Xt.call(t,e)}function U(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function q(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,s;for(r=0;r<e.length;r++){s=e[r].apply(n,i)||s}return s}}function $(){for(var t=0;t<arguments.length;t++){if(void 0!==arguments[t])return arguments[t]}}function X(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Q(t){return t.replace(/&.*?;/g,"")}function K(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function J(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function nt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function it(t,e){var n,i,r,s,o=function o(){var a=+new Date-s;e>a&&a>0?n=setTimeout(o,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,s=+new Date,n||(n=setTimeout(o,e))}}function rt(n,i,r){var s,o,a,l,u=n[0],d=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),ot(u,l)):O(u)||void 0===u?l=e.apply(null,n):(s=!1,o=!1,d?Qt.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Kt.exec(u))&&(s=!a[5],o=!0):t.isArray(u)&&(o=!0),l=i||s?e.utc.apply(e,n):e.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):r&&(o?l._ambigZone=!0:d&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function st(t,n){var i,r,s=!1,o=!1,a=t.length,l=[];for(i=0;a>i;i++){r=t[i],e.isMoment(r)||(r=_t.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,l.push(r)}for(i=0;a>i;i++){r=l[i],n||!s||r._ambigTime?o&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime()}return l}function ot(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return te.format.call(t,e)}function ut(t,e){return dt(t,pt(e))}function dt(t,e){var n,i="";for(n=0;n<e.length;n++){i+=ct(t,e[n])}return i}function ct(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?ee[n]?ee[n](t):lt(t,n):e.maybe&&(i=dt(t,e.maybe),i.match(/[1-9]/))?i:""}function ht(t,e,n,i,r){var s;return t=_t.moment.parseZone(t),e=_t.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",ft(t,e,pt(n),i,r)}function ft(t,e,n,i,r){var s,o,a,l,u=t.clone().stripZone(),d=e.clone().stripZone(),c="",h="",f="",g="",p="";for(o=0;o<n.length&&(s=gt(t,e,u,d,n[o]),s!==!1);o++){c+=s}for(a=n.length-1;a>o&&(s=gt(t,e,u,d,n[a]),s!==!1);a--){h=s+h}for(l=o;a>=l;l++){f+=ct(t,n[l]),g+=ct(e,n[l])}return(f||g)&&(p=r?g+i+f:f+i+g),c+p+h}function gt(t,e,n,i,r){var s,o;return"string"==typeof r?r:(s=r.token)&&(o=ne[s.charAt(0)],o&&n.isSame(i,o))?lt(t,s):!1}function pt(t){return t in ie?ie[t]:ie[t]=vt(t)}function vt(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);){e[1]?n.push(e[1]):e[2]?n.push({maybe:vt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5])}return n}function mt(){}function yt(t,e){var n;return Z(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=Y(t.prototype),W(e,n.prototype),j(e,n.prototype),W(t,n),n}function wt(t,e){W(e.prototype||e,t.prototype)}function St(t,e){return t||e?t&&e?t.component===e.component&&bt(t,e)&&bt(e,t):!1:!0}function bt(t,e){for(var n in t){if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1}return!0}function Et(t){var e=Ct(t);return"background"===e||"inverse-background"===e}function Dt(t){return"inverse-background"===Ct(t)}function Ct(t){return $((t.source||{}).rendering,t.rendering)}function Ht(t){var e,n,i={};for(e=0;e<t.length;e++){n=t[e],(i[n._id]||(i[n._id]=[])).push(n)}return i}function Tt(t,e){return t.start-e.start}function xt(n){var i,r,s,o,a=_t.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),r=null!=r?e.duration(r):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function Rt(t,e){var n,i;for(n=0;n<e.length;n++){if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0}return!1}function kt(t,e){return t.leftCol-e.leftCol}function It(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Mt(n,r[i]).length;i++){}n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Ft(t){var e,n,i,r,s;for(e=0;e<t.length;e++){for(n=t[e],i=0;i<n.length;i++){for(r=n[i],r.forwardSegs=[],s=e+1;s<t.length;s++){Mt(r,t[s],r.forwardSegs)}}}}function zt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++){n=i[e],zt(n),r=Math.max(r,1+n.forwardPressure)}t.forwardPressure=r}}function Mt(t,e,n){n=n||[];for(var i=0;i<e.length;i++){Nt(t,e[i])&&n.push(e[i])}return n}function Nt(t,e){return t.bottom>e.top&&t.top<e.bottom}function Bt(n,i){function r(){Z?a()&&(d(),l()):s()}function s(){U=O.theme?"ui":"fc",n.addClass("fc"),O.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),O.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),Z=t("<div class='fc-view-container'/>").prependTo(n),W=V.header=new Pt(V,O),j=W.render(),j&&n.prepend(j),l(O.defaultView),O.handleWindowResize&&(X=it(h,O.windowResizeDelay),t(window).resize(X))}function o(){q&&q.removeElement(),W.removeElement(),Z.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&t(window).unbind("resize",X)}function a(){return n.is(":visible")}function l(e){nt++,q&&e&&q.type!==e&&(W.deactivateButton(q.type),M(),q.removeElement(),q=V.view=null),!q&&e&&(q=V.view=et[e]||(et[e]=V.instantiateView(e)),q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(Z)),W.activateButton(e)),q&&(Q=q.massageCurrentDate(Q),q.displaying&&Q.isWithin(q.intervalStart,q.intervalEnd)||a()&&(q.display(Q),N(),S(),b(),v())),N(),nt--}function u(t){return a()?(t&&c(),nt++,q.updateSize(!0),nt--,!0):void 0}function d(){a()&&c()}function c(){$="number"==typeof O.contentHeight?O.contentHeight:"number"==typeof O.height?O.height-(j?j.outerHeight(!0):0):Math.round(Z.width()/Math.max(O.aspectRatio,.5))}function h(t){!nt&&t.target===window&&q.start&&u(!0)&&q.trigger("windowResize",tt)}function f(){p(),m()}function g(){a()&&(M(),q.displayEvents(rt),N())}function p(){M(),q.clearEvents(),N()}function v(){!O.lazyFetching||K(q.start,q.end)?m():g()}function m(){J(q.start,q.end)}function y(t){rt=t,g()}function w(){g()}function S(){W.updateTitle(q.title)}function b(){var t=V.getNow();t.isWithin(q.intervalStart,q.intervalEnd)?W.disableButton("today"):W.enableButton("today")}function E(t,e){q.select(V.buildSelectSpan.apply(V,arguments))}function D(){q&&q.unselect()}function C(){Q=q.computePrevDate(Q),l()}function H(){Q=q.computeNextDate(Q),l()}function T(){Q.add(-1,"years"),l()}function x(){Q.add(1,"years"),l()}function R(){Q=V.getNow(),l()}function k(t){Q=V.moment(t).stripZone(),l()}function I(t){Q.add(e.duration(t)),l()}function F(t,e){var n;e=e||"day",n=V.getViewSpec(e)||V.getUnitViewSpec(e),Q=t.clone(),l(n?n.type:null)}function z(){return V.applyTimezone(Q)}function M(){Z.css({width:"100%",height:Z.height(),overflow:"hidden"})}function N(){Z.css({width:"",height:"",overflow:""})}function B(){return V}function L(){return q}function G(t,e){return void 0===e?O[t]:void("height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(O[t]=e,u(!0)))}function P(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,n),O[t]?O[t].apply(e,n):void 0}var V=this;V.initOptions(i||{});var O=this.options;V.render=r,V.destroy=o,V.refetchEvents=f,V.reportEvents=y,V.reportEventChange=w,V.rerenderEvents=g,V.changeView=l,V.select=E,V.unselect=D,V.prev=C,V.next=H,V.prevYear=T,V.nextYear=x,V.today=R,V.gotoDate=k,V.incrementDate=I,V.zoomTo=F,V.getDate=z,V.getCalendar=B,V.getView=L,V.option=G,V.trigger=P;var _=Y(Gt(O.lang));if(O.monthNames&&(_._months=O.monthNames),O.monthNamesShort&&(_._monthsShort=O.monthNamesShort),O.dayNames&&(_._weekdays=O.dayNames),O.dayNamesShort&&(_._weekdaysShort=O.dayNamesShort),null!=O.firstDay){var A=Y(_._week);A.dow=O.firstDay,_._week=A}_._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(O.weekNumberCalculation),V.defaultAllDayEventDuration=e.duration(O.defaultAllDayEventDuration),V.defaultTimedEventDuration=e.duration(O.defaultTimedEventDuration),V.moment=function(){var t;return"local"===O.timezone?(t=_t.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===O.timezone?_t.moment.utc.apply(null,arguments):_t.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=_:t._lang=_,t},V.getIsAmbigTimezone=function(){return"local"!==O.timezone&&"UTC"!==O.timezone},V.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=V.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()===0&&(n=e)),n},V.getNow=function(){var t=O.now;return"function"==typeof t&&(t=t()),V.moment(t).stripZone()},V.getEventEnd=function(t){return t.end?t.end.clone():V.getDefaultEventEnd(t.allDay,t.start)},V.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(V.defaultAllDayEventDuration):n.add(V.defaultTimedEventDuration),V.getIsAmbigTimezone()&&n.stripZone(),n},V.humanizeDuration=function(t){return(t.locale||t.lang).call(t,O.lang).humanize()},Vt.call(V,O);var W,j,Z,U,q,$,X,Q,K=V.isFetchNeeded,J=V.fetchEvents,tt=n[0],et={},nt=0,rt=[];Q=null!=O.defaultDate?V.moment(O.defaultDate).stripZone():V.getNow(),V.getSuggestedViewHeight=function(){return void 0===$&&d(),$},V.isHeightAuto=function(){return"auto"===O.contentHeight||"auto"===O.height},V.freezeContentHeight=M,V.unfreezeContentHeight=N,V.initialize()}function Lt(e){t.each(we,function(t,n){null==e[t]&&(e[t]=n(e))})}function Gt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Pt(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?g=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){g.remove(),g=t()}function s(i){var r=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(i){var s,o=t(),a=!0;t.each(this.split(","),function(i,r){var s,l,u,d,c,h,g,v,m,y;"title"==r?(o=o.add(t("<h2>&nbsp;</h2>")),a=!1):((s=(e.options.customButtons||{})[r])?(u=function t(e){s.click&&s.click.call(y[0],e)},d="",c=s.text):(l=e.getViewSpec(r))?(u=function t(){e.changeView(r)},p.push(r),d=l.buttonTextOverride,c=l.buttonTextDefault):e[r]&&(u=function t(){e[r]()},d=(e.overrides.buttonText||{})[r],c=n.buttonText[r]),u&&(h=s?s.themeIcon:n.themeButtonIcons[r],g=s?s.icon:n.buttonIcons[r],v=d?X(d):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":g&&!n.theme?"<span class='fc-icon fc-icon-"+g+"'></span>":X(c),m=["fc-"+r+"-button",f+"-button",f+"-state-default"],y=t('<button type="button" class="'+m.join(" ")+'">'+v+"</button>").click(function(t){y.hasClass(f+"-state-disabled")||(u(t),(y.hasClass(f+"-state-active")||y.hasClass(f+"-state-disabled"))&&y.removeClass(f+"-state-hover"))}).mousedown(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){y.removeClass(f+"-state-down")}).hover(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){y.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),o.length>1?(s=t("<div/>"),a&&s.addClass("fc-button-group"),s.append(o),r.append(s)):r.append(o)}),r}function o(t){g.find("h2").text(t)}function a(t){g.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){g.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function u(t){g.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function d(t){g.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function c(){return p}var h=this;h.render=i,h.removeElement=r,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=d,h.getViewsWithButtons=c;var f,g=t(),p=[]}function Vt(n){function i(t,e){return!G||G>t||e>P}function r(t,e){G=t,P=e,j=[];var n=++Y,i=A.length;W=i;for(var r=0;i>r;r++){s(A[r],n)}}function s(e,n){o(e,function(i){var r,s,o,a=t.isArray(e.events);if(n==Y){if(i)for(r=0;r<i.length;r++){s=i[r],o=a?s:y(s,e),o&&j.push.apply(j,E(o))}W--,W||V(j)}})}function o(e,i){var r,s,a=_t.sourceFetchers;for(r=0;r<a.length;r++){if(s=a[r].call(L,e,G.clone(),P.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return void o(s,i)}var l=e.events;if(l)t.isFunction(l)?(L.pushLoading(),l.call(L,G.clone(),P.clone(),n.timezone,function(t){i(t),L.popLoading()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var d,c=e.success,h=e.error,f=e.complete;d=t.isFunction(e.data)?e.data():e.data;var g=t.extend({},d||{}),p=$(e.startParam,n.startParam),v=$(e.endParam,n.endParam),m=$(e.timezoneParam,n.timezoneParam);p&&(g[p]=G.format()),v&&(g[v]=P.format()),n.timezone&&"local"!=n.timezone&&(g[m]=n.timezone),L.pushLoading(),t.ajax(t.extend({},Se,e,{data:g,success:function e(n){n=n||[];var r=q(c,this,arguments);t.isArray(r)&&(n=r),i(n)},error:function t(){q(h,this,arguments),i()},complete:function t(){q(f,this,arguments),L.popLoading()}}))}else i()}}function a(t){var e=l(t);e&&(A.push(e),W++,s(e,Y))}function l(e){var n,i,r=_t.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return y(t,n)})),i=0;i<r.length;i++){r[i].call(L,n)}return n}}function u(e){A=t.grep(A,function(t){return!d(t,e)}),j=t.grep(j,function(t){return!d(t.source,e)}),V(j)}function d(t,e){return t&&e&&c(t)==c(e)}function c(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=L.moment(t.start),t.end?t.end=L.moment(t.end):t.end=null,D(t,f(t)),V(j)}function f(e){var n={};return t.each(e,function(t,e){g(t)&&void 0!==e&&U(e)&&(n[t]=e)}),n}function g(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function p(t,e){var n,i,r,s=y(t);if(s){for(n=E(s),i=0;i<n.length;i++){r=n[i],r.source||(e&&(O.events.push(r),r.source=O),j.push(r))}return V(j),n}return[]}function v(e){var n,i;for(null==e?e=function t(){return!0}:t.isFunction(e)||(n=e+"",e=function t(e){return e._id==n}),j=t.grep(j,e,!0),i=0;i<A.length;i++){t.isArray(A[i].events)&&(A[i].events=t.grep(A[i].events,e,!0))}V(j)}function m(e){return t.isFunction(e)?t.grep(j,e):null!=e?(e+="",t.grep(j,function(t){return t._id==e})):j}function y(i,r){var s,o,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+be++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],s=i.start||i.date,o=i.end,_(s)&&(s=e.duration(s)),_(o)&&(o=e.duration(o)),i.dow||e.isDuration(s)||e.isDuration(o))l.start=s?e.duration(s):null,l.end=o?e.duration(o):null,l._recurring=!0;else{if(s&&(s=L.moment(s),!s.isValid()))return!1;o&&(o=L.moment(o),o.isValid()||(o=null)),a=i.allDay,void 0===a&&(a=$(r?r.allDayDefault:void 0,n.allDayDefault)),w(s,o,a,l)}return l}function w(t,e,n,i){i.start=t,i.end=e,i.allDay=n,S(i),Ot(i)}function S(t){b(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(n.forceEventDuration?t.end=L.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function b(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=L.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=L.applyTimezone(t.end.time(0))))}function E(e,n,i){var r,s,o,a,l,u,d,c,h,f=[];if(n=n||G,i=i||P,e)if(e._recurring){if(s=e.dow)for(r={},o=0;o<s.length;o++){r[s[o]]=!0}for(a=n.clone().stripTime();a.isBefore(i);){r&&!r[a.day()]||(l=e.start,u=e.end,d=a.clone(),c=null,l&&(d=d.time(l)),u&&(c=a.clone().time(u)),h=t.extend({},e),w(d,c,!l&&!u,h),f.push(h)),a.add(1,"days")}}else f.push(e);return f}function D(e,n,i){function r(t,e){return i?M(t,e,i):n.allDay?z(t,e):F(t,e)}var s,o,a,l,u,d,c={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),S(n),s={start:e._start.clone(),end:e._end?e._end.clone():L.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},S(s),o=null!==e._end&&null===n.end,a=r(n.start,s.start),n.end?(l=r(n.end,s.end),u=l.subtract(a)):u=null,t.each(n,function(t,e){g(t)&&void 0!==e&&(c[t]=e)}),d=C(m(e._id),o,n.allDay,a,u,c),{dateDelta:a,durationDelta:u,undo:d}}function C(e,n,i,r,s,o){var a=L.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,u){var d,c;d={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(o,function(t){d[t]=u[t]}),c={start:u._start,end:u._end,allDay:i},S(c),n?c.end=null:s&&!c.end&&(c.end=L.getDefaultEventEnd(c.allDay,c.start)),r&&(c.start.add(r),c.end&&c.end.add(r)),s&&c.end.add(s),a&&!c.allDay&&(r||s)&&(c.start.stripZone(),c.end&&c.end.stripZone()),t.extend(u,o,c),Ot(u),l.push(function(){t.extend(u,d),Ot(u)})}),function(){for(var t=0;t<l.length;t++){l[t]()}}}function H(e){var i,r=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=L.getView();return r&&(i=t.extend({},s,"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),E(y(i),o.start,o.end)):[]}function T(t,e){var i=e.source||{},r=$(e.constraint,i.constraint,n.eventConstraint),s=$(e.overlap,i.overlap,n.eventOverlap);return k(t,r,s,e)}function x(e,n,i){var r,s;return i&&(r=t.extend({},i,n),s=E(y(r))[0]),s?T(e,s):R(e)}function R(t){return k(t,n.selectConstraint,n.selectOverlap)}function k(t,e,n,i){var r,s,o,a,l,u;if(null!=e){for(r=I(e),s=!1,a=0;a<r.length;a++){if(N(r[a],t)){s=!0;break}}if(!s)return!1}for(o=L.getPeerEvents(t,i),a=0;a<o.length;a++){if(l=o[a],B(l,t)){if(n===!1)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(u=$(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(i,l))return!1}}}return!0}function I(t){return"businessHours"===t?H():"object"==typeof t?E(y(t)):m(t)}function N(t,e){var n=t.start.clone().stripZone(),i=L.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i}function B(t,e){var n=t.start.clone().stripZone(),i=L.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var L=this;L.isFetchNeeded=i,L.fetchEvents=r,L.addEventSource=a,L.removeEventSource=u,L.updateEvent=h,L.renderEvent=p,L.removeEvents=v,L.clientEvents=m,L.mutateEvent=D,L.normalizeEventDates=S,L.normalizeEventTimes=b;var G,P,V=L.reportEvents,O={events:[]},A=[O],Y=0,W=0,j=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&A.push(n)}),L.getBusinessHoursEvents=H,L.isEventSpanAllowed=T,L.isExternalSpanAllowed=x,L.isSelectionSpanAllowed=R,L.getEventCache=function(){return j}}function Ot(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var _t=t.fullCalendar={version:"2.6.1",internalApiVersion:3},At=_t.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,a=t(s),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,n),r||(i=o),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new pe(a,e),a.data("fullCalendar",l),l.render())}),i};var Yt=["header","buttonText","buttonIcons","themeButtonIcons"];_t.intersectRanges=I,_t.applyAll=q,_t.debounce=it,_t.isInt=et,_t.htmlEscape=X,_t.cssToStr=K,_t.proxy=nt,_t.capitaliseFirstLetter=J,_t.getOuterRect=g,_t.getClientRect=p,_t.getContentRect=v,_t.getScrollbarWidths=m;var Wt=null;_t.intersectRects=E,_t.parseFieldSpecs=T,_t.compareByFieldSpecs=x,_t.compareByFieldSpec=R,_t.flexibleCompare=k,_t.computeIntervalUnit=N,_t.divideRangeByDuration=L,_t.divideDurationByDuration=G,_t.multiplyDuration=P,_t.durationHasTime=V;var jt=["sun","mon","tue","wed","thu","fri","sat"],Zt=["year","month","week","day","hour","minute","second","millisecond"];_t.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},_t.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):_t.log.apply(_t,arguments)};var Ut,qt,$t,Xt={}.hasOwnProperty,Qt=/^\s*\d{4}-\d\d$/,Kt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Jt=e.fn,te=t.extend({},Jt);_t.moment=function(){return rt(arguments)},_t.moment.utc=function(){var t=rt(arguments,!0);return t.hasTime()&&t.utc(),t},_t.moment.parseZone=function(){return rt(arguments,!0,!0)},Jt.clone=function(){var t=te.clone.apply(this,arguments);return ot(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Jt.week=Jt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Jt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Jt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),qt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Jt.hasTime=function(){return!this._ambigTime},Jt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),qt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Jt.hasZone=function(){return!this._ambigZone},Jt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&$t(this,t),this},Jt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Jt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Jt.format=function(){return this._fullCalendar&&arguments[0]?ut(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Jt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Jt.isWithin=function(t,e){var n=st([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Jt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=st([this,t],!0),te.isSame.call(n[0],n[1],e)):(t=_t.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Jt[e]=function(t,n){var i;return this._fullCalendar?(i=st([this,t]),te[e].call(i[0],i[1],n)):te[e].apply(this,arguments)}}),Ut="_d"in e()&&"updateOffset"in e,qt=Ut?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:at,$t=Ut?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function t(e){return lt(e,"a").charAt(0)},T:function t(e){return lt(e,"A").charAt(0)}};_t.formatRange=ht;var ne={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ie={};_t.Class=mt,mt.extend=function(){var t,e,n=arguments.length;for(t=0;n>t;t++){e=arguments[t],n-1>t&&wt(this,e)}return yt(this,e||{})},mt.mixin=function(t){wt(this,t)};var re=_t.Emitter=mt.extend({callbackHash:null,on:function t(e,n){return this.getCallbacks(e).add(n),this},off:function t(e,n){return this.getCallbacks(e).remove(n),this},trigger:function t(e){var n=Array.prototype.slice.call(arguments,1);return this.triggerWith(e,this,n),this},triggerWith:function t(e,n,i){var r=this.getCallbacks(e);return r.fireWith(n,i),this},getCallbacks:function e(n){var i;return this.callbackHash||(this.callbackHash={}),i=this.callbackHash[n],i||(i=this.callbackHash[n]=t.Callbacks()),i}}),se=mt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function t(e){this.options=e||{}},show:function t(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function t(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function e(){var n=this,i=this.options;this.el=t('<div class="fc-popover"/>').addClass(i.className||"").css({top:0,left:0}).append(i.content).appendTo(i.parentEl),this.el.on("click",".fc-close",function(){n.hide()}),i.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=nt(this,"documentMousedown"))},documentMousedown:function e(n){this.el&&!t(n.target).closest(this.el).length&&this.hide()},removeElement:function e(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function e(){var n,i,r,s,o,a=this.options,l=this.el.offsetParent().offset(),u=this.el.outerWidth(),d=this.el.outerHeight(),c=t(window),h=f(this.el);s=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-u:0,h.is(window)||h.is(document)?(h=c,n=0,i=0):(r=h.offset(),n=r.top,i=r.left),n+=c.scrollTop(),i+=c.scrollLeft(),a.viewportConstrain!==!1&&(s=Math.min(s,n+h.outerHeight()-d-this.margin),s=Math.max(s,n+this.margin),o=Math.min(o,i+h.outerWidth()-u-this.margin),o=Math.max(o,i+this.margin)),this.el.css({top:s-l.top,left:o-l.left})},trigger:function t(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),oe=_t.CoordCache=mt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function e(n){this.els=t(n.els),this.isHorizontal=n.isHorizontal,this.isVertical=n.isVertical,this.forcedOffsetParentEl=n.offsetParent?t(n.offsetParent):null},build:function t(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function t(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function t(){this.origin||this.build()},queryBoundingRect:function t(){var e=f(this.els.eq(0));return e.is(document)?void 0:p(e)},buildElHorizontals:function e(){var n=[],i=[];this.els.each(function(e,r){var s=t(r),o=s.offset().left,a=s.outerWidth();n.push(o),i.push(o+a)}),this.lefts=n,this.rights=i},buildElVerticals:function e(){var n=[],i=[];this.els.each(function(e,r){var s=t(r),o=s.offset().top,a=s.outerHeight();n.push(o),i.push(o+a)}),this.tops=n,this.bottoms=i},getHorizontalIndex:function t(e){this.ensureBuilt();var n,i=this.boundingRect,r=this.lefts,s=this.rights,o=r.length;if(!i||e>=i.left&&e<i.right)for(n=0;o>n;n++){if(e>=r[n]&&e<s[n])return n}},getVerticalIndex:function t(e){this.ensureBuilt();var n,i=this.boundingRect,r=this.tops,s=this.bottoms,o=r.length;if(!i||e>=i.top&&e<i.bottom)for(n=0;o>n;n++){if(e>=r[n]&&e<s[n])return n}},getLeftOffset:function t(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function t(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function t(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function t(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function t(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function t(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function t(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function t(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function t(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function t(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),ae=_t.DragListener=mt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function t(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function t(e){b(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function e(n){var i;this.isListening||(n&&this.options.scroll&&(i=f(t(n.target)),i.is(window)||i.is(document)||(this.scrollEl=i,this.scrollHandlerProxy=it(nt(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")).on("mouseup",this.mouseupProxy=nt(this,"mouseup")).on("selectstart",this.preventDefault),n?(this.originX=n.pageX,this.originY=n.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(n))},listenStart:function t(e){this.trigger("listenStart",e)},mousemove:function t(e){var n,i,r=e.pageX-this.originX,s=e.pageY-this.originY;this.isDragging||(n=this.options.distance||1,i=r*r+s*s,i>=n*n&&this.startDrag(e)),this.isDragging&&this.drag(r,s,e)},startDrag:function t(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function t(e){var n=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=n?n.attr("href"):null)&&n.removeAttr("href")},drag:function t(e,n,i){this.trigger("drag",e,n,i),this.updateScroll(i)},mouseup:function t(e){this.stopListening(e)},stopDrag:function t(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function t(e){var n=this;this.trigger("dragStop",e),setTimeout(function(){n.subjectHref&&n.subjectEl.attr("href",n.subjectHref)},0)},stopListening:function e(n){this.stopDrag(n),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(n))},listenStop:function t(e){this.trigger("listenStop",e)},trigger:function t(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function t(e){e.preventDefault()},computeScrollBounds:function t(){var e=this.scrollEl;this.scrollBounds=e?g(e):null},updateScroll:function t(e){var n,i,r,s,o=this.scrollSensitivity,a=this.scrollBounds,l=0,u=0;a&&(n=(o-(e.pageY-a.top))/o,i=(o-(a.bottom-e.pageY))/o,r=(o-(e.pageX-a.left))/o,s=(o-(a.right-e.pageX))/o,n>=0&&1>=n?l=n*this.scrollSpeed*-1:i>=0&&1>=i&&(l=i*this.scrollSpeed),r>=0&&1>=r?u=r*this.scrollSpeed*-1:s>=0&&1>=s&&(u=s*this.scrollSpeed)),this.setScrollVel(l,u)},setScrollVel:function t(e,n){this.scrollTopVel=e,this.scrollLeftVel=n,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(nt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function t(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function t(){var e=this.scrollEl,n=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*n),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*n),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function t(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function t(){this.scrollIntervalId||this.scrollStop()},scrollStop:function t(){}}),le=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function t(e,n){ae.call(this,n),this.component=e},listenStart:function t(e){var n,i,r,s=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(i={left:e.pageX,top:e.pageY},r=i,s&&(n=g(s),r=D(r,n)),this.origHit=this.queryHit(r.left,r.top),s&&this.options.subjectCenter&&(this.origHit&&(n=E(this.origHit,n)||n),r=C(n)),this.coordAdjust=H(r,i)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function t(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function t(e){var n;ae.prototype.dragStart.apply(this,arguments),n=this.queryHit(e.pageX,e.pageY),n&&this.hitOver(n)},drag:function t(e,n,i){var r;ae.prototype.drag.apply(this,arguments),r=this.queryHit(i.pageX,i.pageY),St(r,this.hit)||(this.hit&&this.hitOut(),r&&this.hitOver(r))},dragStop:function t(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function t(e){var n=St(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,n,this.origHit)},hitOut:function t(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function t(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function t(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function t(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function t(e,n){return this.coordAdjust&&(e+=this.coordAdjust.left,n+=this.coordAdjust.top),this.component.queryHit(e,n)}}),ue=mt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function e(n,i){this.options=i=i||{},this.sourceEl=n,this.parentEl=i.parentEl?t(i.parentEl):n.parent()},start:function e(n){this.isFollowing||(this.isFollowing=!0,this.mouseY0=n.pageY,this.mouseX0=n.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")))},stop:function e(n,i){function r(){this.isAnimating=!1,s.removeElement(),this.top0=this.left0=null,i&&i()}var s=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),n&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:r})):r())},getEl:function t(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},removeElement:function t(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function t(){var e,n;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),n=this.el.offsetParent().offset(),this.top0=e.top-n.top,this.left0=e.left-n.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function t(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function t(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function t(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),de=_t.Grid=mt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function t(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=nt(this,"externalDragStart")},computeEventTimeFormat:function t(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function t(){return!0},computeDisplayEventEnd:function t(){return!0},setRange:function t(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function t(){},processRangeOptions:function t(){var e,n,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),e=i.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),n=i.opt("displayEventEnd"),null==n&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},spanToSegs:function t(e){},diffDates:function t(e,n){return this.largeUnit?M(e,n,this.largeUnit):F(e,n)},prepareHits:function t(){},releaseHits:function t(){},queryHit:function t(e,n){},getHitSpan:function t(e){},getHitEl:function t(e){},setElement:function e(n){var i=this;this.el=n,n.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||i.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function t(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function t(){},renderDates:function t(){},unrenderDates:function t(){},bindGlobalHandlers:function e(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function e(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function t(e){var n,i,r=this,s=this.view,l=s.opt("selectable"),u=new le(this,{scroll:s.opt("dragScroll"),dragStart:function t(){s.unselect()},hitOver:function t(e,s,a){a&&(n=s?e:null,l&&(i=r.computeSelection(r.getHitSpan(a),r.getHitSpan(e)),i?r.renderSelection(i):i===!1&&o()))},hitOut:function t(){n=null,i=null,r.unrenderSelection(),a()},listenStop:function t(e){n&&s.triggerDayClick(r.getHitSpan(n),r.getHitEl(n),e),i&&s.reportSelection(i,e),a()}});u.mousedown(e)},renderEventLocationHelper:function t(e,n){var i=this.fabricateHelperEvent(e,n);this.renderHelper(i,n)},fabricateHelperEvent:function t(e,n){var i=n?Y(n.event):{};return i.start=e.start.clone(),i.end=e.end?e.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),n||(i.editable=!1),i},renderHelper:function t(e,n){},unrenderHelper:function t(){},renderSelection:function t(e){this.renderHighlight(e)},unrenderSelection:function t(){this.unrenderHighlight()},computeSelection:function t(e,n){var i=this.computeSelectionSpan(e,n);return i&&!this.view.calendar.isSelectionSpanAllowed(i)?!1:i},computeSelectionSpan:function t(e,n){var i=[e.start,e.end,n.start,n.end];return i.sort(tt),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function t(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function t(){this.unrenderFill("highlight")},highlightSegClasses:function t(){return["fc-highlight"]},renderBusinessHours:function t(){},unrenderBusinessHours:function t(){},getNowIndicatorUnit:function t(){},renderNowIndicator:function t(e){},unrenderNowIndicator:function t(){},renderFill:function t(e,n){},unrenderFill:function t(e){var n=this.elsByFill[e];n&&(n.remove(),delete this.elsByFill[e])},renderFillSegEls:function e(n,i){var r,s=this,o=this[n+"SegEl"],a="",l=[];if(i.length){for(r=0;r<i.length;r++){a+=this.fillSegHtml(n,i[r])}t(a).each(function(e,n){var r=i[e],a=t(n);o&&(a=o.call(s,r,a)),a&&(a=t(a),a.is(s.fillSegTag)&&(r.el=a,l.push(r)))})}return l},fillSegTag:"div",fillSegHtml:function t(e,n){var i=this[e+"SegClasses"],r=this[e+"SegCss"],s=i?i.call(this,n):[],o=K(r?r.call(this,n):{});return"<"+this.fillSegTag+(s.length?' class="'+s.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function t(e){var n=this.view,i=n.calendar.getNow(),r=["fc-"+jt[e.day()]];return 1==n.intervalDuration.as("months")&&e.month()!=n.intervalStart.month()&&r.push("fc-other-month"),e.isSame(i,"day")?r.push("fc-today",n.highlightStateClass):i>e?r.push("fc-past"):r.push("fc-future"),r}});de.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function t(e){var n,i=[],r=[];for(n=0;n<e.length;n++){(Et(e[n])?i:r).push(e[n])}this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(r))},renderBgEvents:function t(e){var n=this.eventsToSegs(e);return this.renderBgSegs(n)||n},renderFgEvents:function t(e){var n=this.eventsToSegs(e);return this.renderFgSegs(n)||n},unrenderEvents:function t(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function t(){return this.segs||[]},renderFgSegs:function t(e){},unrenderFgSegs:function t(){},renderFgSegEls:function e(n,i){var r,s=this.view,o="",a=[];if(n.length){for(r=0;r<n.length;r++){o+=this.fgSegHtml(n[r],i)}t(o).each(function(e,i){var r=n[e],o=s.resolveEventEl(r.event,t(i));o&&(o.data("fc-seg",r),r.el=o,a.push(r))})}return a},fgSegHtml:function t(e,n){},renderBgSegs:function t(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function t(){this.unrenderFill("bgEvent")},bgEventSegEl:function t(e,n){return this.view.resolveEventEl(e.event,n)},bgEventSegClasses:function t(e){var n=e.event,i=n.source||{};return["fc-bgevent"].concat(n.className,i.className||[])},bgEventSegCss:function t(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function t(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function e(){var n=this,i=this.view;t.each({mouseenter:function t(e,i){n.triggerSegMouseover(e,i)},mouseleave:function t(e,i){n.triggerSegMouseout(e,i)},click:function t(e,n){return i.trigger("eventClick",this,e.event,n)},mousedown:function e(r,s){t(s.target).is(".fc-resizer")&&i.isEventResizable(r.event)?n.segResizeMousedown(r,s,t(s.target).is(".fc-start-resizer")):i.isEventDraggable(r.event)&&n.segDragMousedown(r,s)}},function(e,i){n.el.on(e,".fc-event-container > *",function(e){var r=t(this).data("fc-seg");return!r||n.isDraggingSeg||n.isResizingSeg?void 0:i.call(this,r,e)})})},triggerSegMouseover:function t(e,n){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,n))},triggerSegMouseout:function t(e,n){n=n||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,n))},segDragMousedown:function t(e,n){var i,r=this,s=this.view,l=s.calendar,u=e.el,d=e.event,c=new ue(e.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2}),h=new le(s,{distance:5,scroll:s.opt("dragScroll"),subjectEl:u,subjectCenter:!0,listenStart:function t(e){c.hide(),c.start(e)},dragStart:function t(n){r.triggerSegMouseout(e,n),r.segDragStart(e,n),s.hideEvent(d)},hitOver:function t(n,a,u){e.hit&&(u=e.hit),i=r.computeEventDrop(u.component.getHitSpan(u),n.component.getHitSpan(n),d),i&&!l.isEventSpanAllowed(r.eventToSpan(i),d)&&(o(),i=null),i&&s.renderDrag(i,e)?c.hide():c.show(),a&&(i=null)},hitOut:function t(){s.unrenderDrag(),c.show(),i=null},hitDone:function t(){a()},dragStop:function t(n){c.stop(!i,function(){s.unrenderDrag(),s.showEvent(d),r.segDragStop(e,n),i&&s.reportEventDrop(d,i,this.largeUnit,u,n)})},listenStop:function t(){c.stop()}});h.mousedown(n)},segDragStart:function t(e,n){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,n,{})},segDragStop:function t(e,n){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,n,{})},computeEventDrop:function t(e,n,i){var r,s,o=this.view.calendar,a=e.start,l=n.start;return a.hasTime()===l.hasTime()?(r=this.diffDates(l,a),i.allDay&&V(r)?(s={start:i.start.clone(),end:o.getEventEnd(i),allDay:!1},o.normalizeEventTimes(s)):s={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},s.start.add(r),s.end&&s.end.add(r)):s={start:l.clone(),end:null,allDay:!l.hasTime()},s},applyDragOpacity:function t(e){var n=this.view.opt("dragOpacity");null!=n&&e.each(function(t,e){e.style.opacity=n})},externalDragStart:function e(n,i){var r,s,o=this.view;o.opt("droppable")&&(r=t((i?i.item:null)||n.target),s=o.opt("dropAccept"),(t.isFunction(s)?s.call(r[0],r):r.is(s))&&(this.isDraggingExternal||this.listenToExternalDrag(r,n,i)))},listenToExternalDrag:function t(e,n,i){var r,s=this,l=this.view.calendar,u=xt(e),d=new le(this,{listenStart:function t(){s.isDraggingExternal=!0},hitOver:function t(e){r=s.computeExternalDrop(e.component.getHitSpan(e),u),r&&!l.isExternalSpanAllowed(s.eventToSpan(r),r,u.eventProps)&&(o(),r=null),r&&s.renderDrag(r)},hitOut:function t(){r=null},hitDone:function t(){a(),s.unrenderDrag()},dragStop:function t(){r&&s.view.reportExternalDrop(u,r,e,n,i)},listenStop:function t(){s.isDraggingExternal=!1}});d.startDrag(n)},computeExternalDrop:function t(e,n){var i=this.view.calendar,r={start:i.applyTimezone(e.start),end:null};return n.startTime&&!r.start.hasTime()&&r.start.time(n.startTime),n.duration&&(r.end=r.start.clone().add(n.duration)),r},renderDrag:function t(e,n){},unrenderDrag:function t(){},segResizeMousedown:function t(e,n,i){var r,s=this,l=this.view,u=l.calendar,d=e.el,c=e.event,h=u.getEventEnd(c),f=new le(this,{distance:5,scroll:l.opt("dragScroll"),subjectEl:d,dragStart:function t(n){s.triggerSegMouseout(e,n),s.segResizeStart(e,n)},hitOver:function t(n,a,d){var f=s.getHitSpan(d),g=s.getHitSpan(n);r=i?s.computeEventStartResize(f,g,c):s.computeEventEndResize(f,g,c),r&&(u.isEventSpanAllowed(s.eventToSpan(r),c)?r.start.isSame(c.start)&&r.end.isSame(h)&&(r=null):(o(),r=null)),r&&(l.hideEvent(c),s.renderEventResize(r,e))},hitOut:function t(){r=null},hitDone:function t(){s.unrenderEventResize(),l.showEvent(c),a()},dragStop:function t(n){s.segResizeStop(e,n),r&&l.reportEventResize(c,r,this.largeUnit,d,n)}});f.mousedown(n)},segResizeStart:function t(e,n){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,n,{})},segResizeStop:function t(e,n){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,n,{})},computeEventStartResize:function t(e,n,i){return this.computeEventResize("start",e,n,i)},computeEventEndResize:function t(e,n,i){return this.computeEventResize("end",e,n,i)},computeEventResize:function t(e,n,i,r){var s,o,a=this.view.calendar,l=this.diffDates(i[e],n[e]);return s={start:r.start.clone(),end:a.getEventEnd(r),allDay:r.allDay},s.allDay&&V(l)&&(s.allDay=!1,a.normalizeEventTimes(s)),s[e].add(l),s.start.isBefore(s.end)||(o=this.minResizeDuration||(r.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration),"start"==e?s.start=s.end.clone().subtract(o):s.end=s.start.clone().add(o)),s},renderEventResize:function t(e,n){},unrenderEventResize:function t(){},getEventTimeText:function t(e,n,i){return null==n&&(n=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?i&&e.end?this.view.formatRange(e,n):e.start.format(n):""},getSegClasses:function t(e,n,i){var r=e.event,s=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return n&&s.push("fc-draggable"),i&&s.push("fc-resizable"),s},getSegSkinCss:function t(e){var n=e.event,i=this.view,r=n.source||{},s=n.color,o=r.color,a=i.opt("eventColor");return{"background-color":n.backgroundColor||s||r.backgroundColor||o||i.opt("eventBackgroundColor")||a,"border-color":n.borderColor||s||r.borderColor||o||i.opt("eventBorderColor")||a,color:n.textColor||r.textColor||i.opt("eventTextColor")}},eventToSegs:function t(e){return this.eventsToSegs([e])},eventToSpan:function t(e){return this.eventToSpans(e)[0]},eventToSpans:function t(e){var n=this.eventToRange(e);return this.eventRangeToSpans(n,e)},eventsToSegs:function e(n,i){var r=this,s=Ht(n),o=[];return t.each(s,function(t,e){var n,s=[];for(n=0;n<e.length;n++){s.push(r.eventToRange(e[n]))}if(Dt(e[0]))for(s=r.invertRanges(s),n=0;n<s.length;n++){o.push.apply(o,r.eventRangeToSegs(s[n],e[0],i))}else for(n=0;n<s.length;n++){o.push.apply(o,r.eventRangeToSegs(s[n],e[n],i))}}),o},eventToRange:function t(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function t(e,n,i){var r,s=this.eventRangeToSpans(e,n),o=[];for(r=0;r<s.length;r++){o.push.apply(o,this.eventSpanToSegs(s[r],n,i))}return o},eventRangeToSpans:function e(n,i){return[t.extend({},n)]},eventSpanToSegs:function t(e,n,i){var r,s,o=i?i(e):this.spanToSegs(e);for(r=0;r<o.length;r++){s=o[r],s.event=n,s.eventStartMS=+e.start,s.eventDurationMS=e.end-e.start}return o},invertRanges:function t(e){var n,i,r=this.view,s=r.start.clone(),o=r.end.clone(),a=[],l=s;for(e.sort(Tt),n=0;n<e.length;n++){i=e[n],i.start>l&&a.push({start:l,end:i.start}),l=i.end}return o>l&&a.push({start:l,end:o}),a},sortEventSegs:function t(e){e.sort(nt(this,"compareEventSegs"))},compareEventSegs:function t(e,n){return e.eventStartMS-n.eventStartMS||n.eventDurationMS-e.eventDurationMS||n.event.allDay-e.event.allDay||x(e.event,n.event,this.view.eventOrderSpecs)}}),_t.isBgEvent=Et,_t.dataAttrPrefix="";var ce=_t.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function t(){for(var e,n,i,r=this.view,s=this.start.clone(),o=-1,a=[],l=[];s.isBefore(this.end);){r.isHiddenDay(s)?a.push(o+.5):(o++,a.push(o),l.push(s.clone())),s.add(1,"days")}if(this.breakOnWeeks){for(n=l[0].day(),e=1;e<l.length&&l[e].day()!=n;e++){}i=Math.ceil(l.length/e)}else i=1,e=l.length;this.dayDates=l,this.dayIndices=a,this.daysPerRow=e,this.rowCnt=i,this.updateDayTableCols()},updateDayTableCols:function t(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function t(){return this.daysPerRow},getCellDate:function t(e,n){return this.dayDates[this.getCellDayIndex(e,n)].clone()},getCellRange:function t(e,n){var i=this.getCellDate(e,n),r=i.clone().add(1,"days");return{start:i,end:r}},getCellDayIndex:function t(e,n){return e*this.daysPerRow+this.getColDayIndex(n)},getColDayIndex:function t(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function t(e){var n=this.dayIndices,i=e.diff(this.start,"days");return 0>i?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]},computeColHeadFormat:function t(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function t(e){var n,i,r,s,o,a=this.daysPerRow,l=this.view.computeDayRange(e),u=this.getDateDayIndex(l.start),d=this.getDateDayIndex(l.end.clone().subtract(1,"days")),c=[];for(n=0;n<this.rowCnt;n++){i=n*a,r=i+a-1,s=Math.max(u,i),o=Math.min(d,r),s=Math.ceil(s),o=Math.floor(o),o>=s&&c.push({row:n,firstRowDayIndex:s-i,lastRowDayIndex:o-i,isStart:s===u,isEnd:o===d})}return c},sliceRangeByDay:function t(e){var n,i,r,s,o,a,l=this.daysPerRow,u=this.view.computeDayRange(e),d=this.getDateDayIndex(u.start),c=this.getDateDayIndex(u.end.clone().subtract(1,"days")),h=[];for(n=0;n<this.rowCnt;n++){for(i=n*l,r=i+l-1,s=i;r>=s;s++){o=Math.max(d,s),a=Math.min(c,s),o=Math.ceil(o),a=Math.floor(a),a>=o&&h.push({row:n,firstRowDayIndex:o-i,lastRowDayIndex:a-i,isStart:o===d,isEnd:a===c})}}return h},renderHeadHtml:function t(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function t(){return this.renderIntroHtml()},renderHeadTrHtml:function t(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function t(){var e,n,i=[];for(e=0;e<this.colCnt;e++){n=this.getCellDate(0,e),i.push(this.renderHeadDateCellHtml(n))}return i.join("")},renderHeadDateCellHtml:function t(e,n,i){var r=this.view;return'<th class="fc-day-header '+r.widgetHeaderClass+" fc-"+jt[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(n>1?' colspan="'+n+'"':"")+(i?" "+i:"")+">"+X(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function t(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function t(e){return this.renderIntroHtml()},renderBgCellsHtml:function t(e){var n,i,r=[];for(n=0;n<this.colCnt;n++){i=this.getCellDate(e,n),r.push(this.renderBgCellHtml(i))}return r.join("")},renderBgCellHtml:function t(e,n){var i=this.view,r=this.getDayClasses(e);return r.unshift("fc-day",i.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(n?" "+n:"")+"></td>"},renderIntroHtml:function t(){},bookendCells:function t(e){var n=this.renderIntroHtml();n&&(this.isRTL?e.append(n):e.prepend(n))}},he=_t.DayGrid=de.extend(ce,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function t(e){var n,i,r=this.view,s=this.rowCnt,o=this.colCnt,a="";for(n=0;s>n;n++){a+=this.renderDayRowHtml(n,e)}for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new oe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new oe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),n=0;s>n;n++){for(i=0;o>i;i++){r.trigger("dayRender",null,this.getCellDate(n,i),this.getCellEl(n,i))}}},unrenderDates:function t(){this.removeSegPopover()},renderBusinessHours:function t(){var e=this.view.calendar.getBusinessHoursEvents(!0),n=this.eventsToSegs(e);this.renderFill("businessHours",n,"bgevent")},renderDayRowHtml:function t(e,n){var i=this.view,r=["fc-row","fc-week",i.widgetContentClass];return n&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function t(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function t(e){return this.renderIntroHtml()},renderNumberCellsHtml:function t(e){var n,i,r=[];for(n=0;n<this.colCnt;n++){i=this.getCellDate(e,n),r.push(this.renderNumberCellHtml(i))}return r.join("")},renderNumberCellHtml:function t(e){var n;return this.view.dayNumbersVisible?(n=this.getDayClasses(e),n.unshift("fc-day-number"),'<td class="'+n.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function t(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function t(){return 1==this.colCnt},rangeUpdated:function t(){this.updateDayTable()},spanToSegs:function t(e){var n,i,r=this.sliceRangeByRow(e);for(n=0;n<r.length;n++){i=r[n],this.isRTL?(i.leftCol=this.daysPerRow-1-i.lastRowDayIndex,i.rightCol=this.daysPerRow-1-i.firstRowDayIndex):(i.leftCol=i.firstRowDayIndex,i.rightCol=i.lastRowDayIndex)}return r},prepareHits:function t(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function t(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function t(e,n){var i=this.colCoordCache.getHorizontalIndex(e),r=this.rowCoordCache.getVerticalIndex(n);return null!=r&&null!=i?this.getCellHit(r,i):void 0},getHitSpan:function t(e){return this.getCellRange(e.row,e.col)},getHitEl:function t(e){return this.getCellEl(e.row,e.col)},getCellHit:function t(e,n){return{row:e,col:n,component:this,left:this.colCoordCache.getLeftOffset(n),right:this.colCoordCache.getRightOffset(n),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function t(e,n){return this.cellEls.eq(e*this.colCnt+n)},renderDrag:function t(e,n){return this.renderHighlight(this.eventToSpan(e)),n&&!n.el.closest(this.el).length?(this.renderEventLocationHelper(e,n),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function t(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function t(e,n){this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,n)},unrenderEventResize:function t(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function e(n,i){var r,s=[],o=this.eventToSegs(n);o=this.renderFgSegEls(o),r=this.renderSegRows(o),this.rowEls.each(function(e,n){var o,a=t(n),l=t('<div class="fc-helper-skeleton"><table/></div>');o=i&&i.row===e?i.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(r[e].tbodyEl),a.append(l),s.push(l[0])}),this.helperEls=t(s)},unrenderHelper:function t(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function e(n,i,r){var s,o,a,l=[];for(i=this.renderFillSegEls(n,i),s=0;s<i.length;s++){o=i[s],a=this.renderFillRow(n,o,r),this.rowEls.eq(o.row).append(a),l.push(a[0])}return this.elsByFill[n]=t(l),i},renderFillRow:function e(n,i,r){var s,o,a=this.colCnt,l=i.leftCol,u=i.rightCol+1;return r=r||n.toLowerCase(),s=t('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),o=s.find("tr"),l>0&&o.append('<td colspan="'+l+'"/>'),o.append(i.el.attr("colspan",u-l)),a>u&&o.append('<td colspan="'+(a-u)+'"/>'),this.bookendCells(o),s}});he.mixin({rowStructs:null,unrenderEvents:function t(){this.removeSegPopover(),de.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function t(){return de.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function e(n){var i=t.grep(n,function(t){return t.event.allDay});return de.prototype.renderBgSegs.call(this,i)},renderFgSegs:function e(n){var i;return n=this.renderFgSegEls(n),i=this.rowStructs=this.renderSegRows(n),this.rowEls.each(function(e,n){t(n).find(".fc-content-skeleton > table").append(i[e].tbodyEl)}),n},unrenderFgSegs:function t(){for(var e,n=this.rowStructs||[];e=n.pop();){e.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function t(e){var n,i,r=[];for(n=this.groupSegRows(e),i=0;i<n.length;i++){r.push(this.renderSegRow(i,n[i]))}return r},fgSegHtml:function t(e,n){var i,r,s=this.view,o=e.event,a=s.isEventDraggable(o),l=!n&&o.allDay&&e.isStart&&s.isEventResizableFromStart(o),u=!n&&o.allDay&&e.isEnd&&s.isEventResizableFromEnd(o),d=this.getSegClasses(e,a,l||u),c=K(this.getSegSkinCss(e)),h="";return d.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(i=this.getEventTimeText(o),i&&(h='<span class="fc-time">'+X(i)+"</span>")),r='<span class="fc-title">'+(X(o.title||"")||"&nbsp;")+"</span>",'<a class="'+d.join(" ")+'"'+(o.url?' href="'+X(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+h:h+" "+r)+"</div>"+(l?'<div class="fc-resizer fc-start-resizer" />':"")+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function e(n,i){function r(e){for(;e>a;){c=(y[s-1]||[])[a],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),l.append(c)),m[s][a]=c,y[s][a]=c,a++}}var s,o,a,l,u,d,c,h=this.colCnt,f=this.buildSegLevels(i),g=Math.max(1,f.length),p=t("<tbody/>"),v=[],m=[],y=[];for(s=0;g>s;s++){if(o=f[s],a=0,l=t("<tr/>"),v.push([]),m.push([]),y.push([]),o)for(u=0;u<o.length;u++){for(d=o[u],r(d.leftCol),c=t('<td class="fc-event-container"/>').append(d.el),d.leftCol!=d.rightCol?c.attr("colspan",d.rightCol-d.leftCol+1):y[s][a]=c;a<=d.rightCol;){m[s][a]=c,v[s][a]=d,a++}l.append(c)}r(h),this.bookendCells(l),p.append(l)}return{row:n,tbodyEl:p,cellMatrix:m,segMatrix:v,segLevels:f,segs:i}},buildSegLevels:function t(e){var n,i,r,s=[];for(this.sortEventSegs(e),n=0;n<e.length;n++){for(i=e[n],r=0;r<s.length&&Rt(i,s[r]);r++){}i.level=r,(s[r]||(s[r]=[])).push(i)}for(r=0;r<s.length;r++){s[r].sort(kt)}return s},groupSegRows:function t(e){var n,i=[];for(n=0;n<this.rowCnt;n++){i.push([])}for(n=0;n<e.length;n++){i[e[n].row].push(e[n])}return i}}),he.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function t(){this.segPopover&&this.segPopover.hide()},limitRows:function t(e){var n,i,r=this.rowStructs||[];for(n=0;n<r.length;n++){this.unlimitRow(n),i=e?"number"==typeof e?e:this.computeRowLevelLimit(n):!1,i!==!1&&this.limitRow(n,i)}},computeRowLevelLimit:function e(n){function i(e,n){o=Math.max(o,t(n).outerHeight())}var r,s,o,a=this.rowEls.eq(n),l=a.height(),u=this.rowStructs[n].tbodyEl.children();for(r=0;r<u.length;r++){if(s=u.eq(r).removeClass("fc-limited"),o=0,s.find("> td > :first-child").each(i),s.position().top+o>l)return r}return!1},limitRow:function e(n,i){function r(e){for(;e>D;){d=S.getCellSegs(n,D,i),d.length&&(f=o[i-1][D],w=S.renderMoreLink(n,D,d),y=t("<div/>").append(w),f.append(y),E.push(y[0])),D++}}var s,o,a,l,u,d,c,h,f,g,p,v,m,y,w,S=this,b=this.rowStructs[n],E=[],D=0;if(i&&i<b.segLevels.length){for(s=b.segLevels[i-1],o=b.cellMatrix,a=b.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;l<s.length;l++){for(u=s[l],r(u.leftCol),h=[],c=0;D<=u.rightCol;){d=this.getCellSegs(n,D,i),h.push(d),c+=d.length,D++}if(c){for(f=o[i-1][u.leftCol],g=f.attr("rowspan")||1,p=[],v=0;v<h.length;v++){m=t('<td class="fc-more-cell"/>').attr("rowspan",g),d=h[v],w=this.renderMoreLink(n,u.leftCol+v,[u].concat(d)),y=t("<div/>").append(w),m.append(y),p.push(m[0]),E.push(m[0])}f.addClass("fc-limited").after(t(p)),a.push(f[0])}}r(this.colCnt),b.moreEls=t(E),b.limitedEls=t(a)}},unlimitRow:function t(e){var n=this.rowStructs[e];n.moreEls&&(n.moreEls.remove(),n.moreEls=null),n.limitedEls&&(n.limitedEls.removeClass("fc-limited"),n.limitedEls=null)},renderMoreLink:function e(n,i,r){var s=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(e){var a=o.opt("eventLimitClick"),l=s.getCellDate(n,i),u=t(this),d=s.getCellEl(n,i),c=s.getCellSegs(n,i),h=s.resliceDaySegs(c,l),f=s.resliceDaySegs(r,l);"function"==typeof a&&(a=o.trigger("eventLimitClick",null,{date:l,dayEl:d,moreEl:u,segs:h,hiddenSegs:f},e)),"popover"===a?s.showSegPopover(n,i,u,h):"string"==typeof a&&o.calendar.zoomTo(l,a)})},showSegPopover:function t(e,n,i,r){var s,o,a=this,l=this.view,u=i.parent();s=1==this.rowCnt?l.el:this.rowEls.eq(e),o={className:"fc-more-popover",content:this.renderSegPopoverContent(e,n,r),parentEl:this.el,top:s.offset().top,autoHide:!0,viewportConstrain:l.opt("popoverViewportConstrain"),hide:function t(){a.segPopover.removeElement(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?o.right=u.offset().left+u.outerWidth()+1:o.left=u.offset().left-1,this.segPopover=new se(o),this.segPopover.show()},renderSegPopoverContent:function e(n,i,r){var s,o=this.view,a=o.opt("theme"),l=this.getCellDate(n,i).format(o.opt("dayPopoverFormat")),u=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(a?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+X(l)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),d=u.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,s=0;s<r.length;s++){this.prepareHits(),r[s].hit=this.getCellHit(n,i),this.releaseHits(),d.append(r[s].el)}return u},resliceDaySegs:function e(n,i){var r=t.map(n,function(t){return t.event}),s=i.clone(),o=s.clone().add(1,"days"),a={start:s,end:o};return n=this.eventsToSegs(r,function(t){var e=I(t,a);return e?[e]:[]}),this.sortEventSegs(n),n},getMoreLinkText:function t(e){var n=this.view.opt("eventLimitText");return"function"==typeof n?n(e):"+"+e+" "+n},getCellSegs:function t(e,n,i){for(var r,s=this.rowStructs[e].segMatrix,o=i||0,a=[];o<s.length;){r=s[o][n],r&&a.push(r),o++}return a}});var fe=_t.TimeGrid=de.extend(ce,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function t(){de.apply(this,arguments),this.processOptions()},renderDates:function t(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new oe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new oe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function t(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function t(){for(var n,i,r,s=this.view,o=this.isRTL,a="",l=e.duration(+this.minTime);l<this.maxTime;){n=this.start.clone().time(l),i=et(G(l,this.labelInterval)),r='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(i?"<span>"+X(n.format(this.labelFormat))+"</span>":"")+"</td>",a+='<tr data-time="'+n.format("HH:mm:ss")+'"'+(i?"":' class="fc-minor"')+">"+(o?"":r)+'<td class="'+s.widgetContentClass+'"/>'+(o?r:"")+"</tr>",l.add(this.slotDuration)}return a},processOptions:function n(){var i,r=this.view,s=r.opt("slotDuration"),o=r.opt("snapDuration");s=e.duration(s),o=o?e.duration(o):s,this.slotDuration=s,this.snapDuration=o,this.snapsPerSlot=s/o,this.minResizeDuration=o,this.minTime=e.duration(r.opt("minTime")),this.maxTime=e.duration(r.opt("maxTime")),i=r.opt("slotLabelFormat"),t.isArray(i)&&(i=i[i.length-1]),this.labelFormat=i||r.opt("axisFormat")||r.opt("smallTimeFormat"),i=r.opt("slotLabelInterval"),this.labelInterval=i?e.duration(i):this.computeLabelInterval(s)},computeLabelInterval:function t(n){var i,r,s;for(i=ke.length-1;i>=0;i--){if(r=e.duration(ke[i]),s=G(r,n),et(s)&&s>1)return r}return e.duration(n)},computeEventTimeFormat:function t(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function t(){return!0},prepareHits:function t(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function t(){this.colCoordCache.clear()},queryHit:function t(e,n){var i=this.snapsPerSlot,r=this.colCoordCache,s=this.slatCoordCache,o=r.getHorizontalIndex(e),a=s.getVerticalIndex(n);if(null!=o&&null!=a){var l=s.getTopOffset(a),u=s.getHeight(a),d=(n-l)/u,c=Math.floor(d*i),h=a*i+c,f=l+c/i*u,g=l+(c+1)/i*u;return{col:o,snap:h,component:this,left:r.getLeftOffset(o),right:r.getRightOffset(o),top:f,bottom:g}}},getHitSpan:function t(e){var n,i=this.getCellDate(0,e.col),r=this.computeSnapTime(e.snap);return i.time(r),n=i.clone().add(this.snapDuration),{start:i,end:n}},getHitEl:function t(e){return this.colEls.eq(e.col)},rangeUpdated:function t(){this.updateDayTable()},computeSnapTime:function t(n){return e.duration(this.minTime+this.snapDuration*n)},spanToSegs:function t(e){var n,i=this.sliceRangeByTimes(e);for(n=0;n<i.length;n++){this.isRTL?i[n].col=this.daysPerRow-1-i[n].dayIndex:i[n].col=i[n].dayIndex}return i},sliceRangeByTimes:function t(e){var n,i,r,s,o=[];for(i=0;i<this.daysPerRow;i++){r=this.dayDates[i].clone(),s={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},n=I(e,s),n&&(n.dayIndex=i,o.push(n))}return o},updateSize:function t(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function t(n,i){return this.computeTimeTop(e.duration(n-i.clone().stripTime()))},computeTimeTop:function t(e){var n,i,r=this.slatEls.length,s=(e-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(r,s),n=Math.floor(s),n=Math.min(n,r-1),i=s-n,this.slatCoordCache.getTopPosition(n)+this.slatCoordCache.getHeight(n)*i},renderDrag:function t(e,n){if(n){this.renderEventLocationHelper(e,n);for(var i=0;i<this.helperSegs.length;i++){this.applyDragOpacity(this.helperSegs[i].el)}return!0}this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function t(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function t(e,n){this.renderEventLocationHelper(e,n)},unrenderEventResize:function t(){this.unrenderHelper()},renderHelper:function t(e,n){this.renderHelperSegs(this.eventToSegs(e),n)},unrenderHelper:function t(){this.unrenderHelperSegs()},renderBusinessHours:function t(){var e=this.view.calendar.getBusinessHoursEvents(),n=this.eventsToSegs(e);this.renderBusinessSegs(n)},unrenderBusinessHours:function t(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function t(){return"minute"},renderNowIndicator:function e(n){var i,r=this.spanToSegs({start:n,end:n}),s=this.computeDateTop(n,n),o=[];for(i=0;i<r.length;i++){o.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",s).appendTo(this.colContainerEls.eq(r[i].col))[0])}r.length>0&&o.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",s).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(o)},unrenderNowIndicator:function t(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function t(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function t(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function t(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function t(){this.unrenderHighlightSegs()}});fe.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function e(){var n,i,r="";for(n=0;n<this.colCnt;n++){r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}i=t('<div class="fc-content-skeleton"><table><tr>'+r+"</tr></table></div>"),this.colContainerEls=i.find(".fc-content-col"),this.helperContainerEls=i.find(".fc-helper-container"),this.fgContainerEls=i.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=i.find(".fc-bgevent-container"),this.highlightContainerEls=i.find(".fc-highlight-container"),this.businessContainerEls=i.find(".fc-business-container"),this.bookendCells(i.find("tr")),this.el.append(i)},renderFgSegs:function t(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function t(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function t(e,n){var i,r,s;for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),i=0;i<e.length;i++){r=e[i],n&&n.col===r.col&&(s=n.el,r.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}))}this.helperSegs=e},unrenderHelperSegs:function t(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function t(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function t(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function t(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function t(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function t(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function t(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function t(e){var n,i=[];for(n=0;n<this.colCnt;n++){i.push([])}for(n=0;n<e.length;n++){i[e[n].col].push(e[n])}return i},attachSegsByCol:function t(e,n){var i,r,s;for(i=0;i<this.colCnt;i++){for(r=e[i],s=0;s<r.length;s++){n.eq(i).append(r[s].el)}}},unrenderNamedSegs:function t(e){var n,i=this[e];if(i){for(n=0;n<i.length;n++){i[n].el.remove()}this[e]=null}},renderFgSegsIntoContainers:function t(e,n){var i,r;for(e=this.renderFgSegEls(e),i=this.groupSegsByCol(e),r=0;r<this.colCnt;r++){this.updateFgSegCoords(i[r])}return this.attachSegsByCol(i,n),e},fgSegHtml:function t(e,n){var i,r,s,o=this.view,a=e.event,l=o.isEventDraggable(a),u=!n&&e.isStart&&o.isEventResizableFromStart(a),d=!n&&e.isEnd&&o.isEventResizableFromEnd(a),c=this.getSegClasses(e,l,u||d),h=K(this.getSegSkinCss(e));return c.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(e.isStart||e.isEnd)&&(i=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),s=this.getEventTimeText(e,null,!1)):(i=this.getEventTimeText(a),r=this.getEventTimeText(a,"LT"),s=this.getEventTimeText(a,null,!1)),'<a class="'+c.join(" ")+'"'+(a.url?' href="'+X(a.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+X(s)+'" data-full="'+X(r)+'"><span>'+X(i)+"</span></div>":"")+(a.title?'<div class="fc-title">'+X(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(d?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function t(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function t(e){var n,i;for(n=0;n<e.length;n++){i=e[n],i.top=this.computeDateTop(i.start,i.start),i.bottom=this.computeDateTop(i.end,i.start)}},assignSegVerticals:function t(e){var n,i;for(n=0;n<e.length;n++){i=e[n],i.el.css(this.generateSegVerticalCss(i))}},generateSegVerticalCss:function t(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function t(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function t(e){var n,i,r;if(this.sortEventSegs(e),n=It(e),Ft(n),i=n[0]){for(r=0;r<i.length;r++){zt(i[r])}for(r=0;r<i.length;r++){this.computeFgSegForwardBack(i[r],0,0)}}},computeFgSegForwardBack:function t(e,n,i){var r,s=e.forwardSegs;if(void 0===e.forwardCoord)for(s.length?(this.sortForwardSegs(s),this.computeFgSegForwardBack(s[0],n+1,i),e.forwardCoord=s[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-i)/(n+1),r=0;r<s.length;r++){this.computeFgSegForwardBack(s[r],0,e.forwardCoord)}},sortForwardSegs:function t(e){e.sort(nt(this,"compareForwardSegs"))},compareForwardSegs:function t(e,n){return n.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(n.backwardCoord||0)||this.compareEventSegs(e,n)},assignFgSegHorizontals:function t(e){var n,i;for(n=0;n<e.length;n++){i=e[n],i.el.css(this.generateFgSegHorizontalCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short")}},generateFgSegHorizontalCss:function t(e){var n,i,r=this.view.opt("slotEventOverlap"),s=e.backwardCoord,o=e.forwardCoord,a=this.generateSegVerticalCss(e);return r&&(o=Math.min(1,s+2*(o-s))),this.isRTL?(n=1-o,i=s):(n=s,i=1-o),a.zIndex=e.level+1,a.left=100*n+"%",a.right=100*i+"%",r&&e.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a}});var ge=_t.View=mt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function t(n,i,r,s){this.calendar=n,this.type=this.name=i,this.options=r,this.intervalDuration=s||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=T(this.opt("eventOrder")),this.documentMousedownProxy=nt(this,"documentMousedown"),this.initialize()},initialize:function t(){},opt:function t(e){return this.options[e]},trigger:function t(e,n){var i=this.calendar;return i.trigger.apply(i,[e,n||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function t(e){this.setRange(this.computeRange(e))},setRange:function e(n){t.extend(this,n),this.updateTitle()},computeRange:function t(e){var n,i,r=N(this.intervalDuration),s=e.clone().startOf(r),o=s.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(s.stripTime(),o.stripTime()):(s.hasTime()||(s=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),n=s.clone(),n=this.skipHiddenDays(n),i=o.clone(),i=this.skipHiddenDays(i,-1,!0),{intervalUnit:r,intervalStart:s,intervalEnd:o,start:n,end:i}},computePrevDate:function t(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function t(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function t(e,n){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,n),e.startOf("day")),e},updateTitle:function t(){this.title=this.computeTitle()},computeTitle:function t(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function t(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function t(e,n,i){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),ht(e.start,r,n,i,this.opt("isRTL"))},setElement:function t(e){this.el=e,this.bindGlobalHandlers()},removeElement:function t(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function e(n){var i=this,r=null;return this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return i.displaying=t.when(i.displayView(n)).then(function(){i.forceScroll(i.computeInitialScroll(r)),i.calendar.unfreezeContentHeight(),i.triggerRender()})})},clear:function e(){var n=this,i=this.displaying;return i?i.then(function(){return n.displaying=null,n.clearEvents(),n.clearView()}):t.when()},displayView:function t(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function t(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function t(){},unrenderSkeleton:function t(){},renderDates:function t(){},unrenderDates:function t(){},triggerRender:function t(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function t(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function e(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function e(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function t(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function t(){},unrenderBusinessHours:function t(){},startNowIndicator:function t(){var n,i,r,s=this;this.opt("nowIndicator")&&(n=this.getNowIndicatorUnit(),n&&(i=nt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,r=this.initialNowDate.clone().startOf(n).add(1,n)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){s.nowIndicatorTimeoutID=null,i(),r=+e.duration(1,n),r=Math.max(100,r),s.nowIndicatorIntervalID=setInterval(i,r)},r)))},updateNowIndicator:function t(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function t(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function t(){},renderNowIndicator:function t(e){},unrenderNowIndicator:function t(){},updateSize:function t(e){var n;e&&(n=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(n)},updateWidth:function t(e){},updateHeight:function t(e){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function t(e,n){},computeScrollerHeight:function t(e){var n,i,r=this.scrollerEl;return n=this.el.add(r),n.css({position:"relative",left:-1}),i=this.el.outerHeight()-r.height(),n.css({position:"",left:""}),e-i},computeInitialScroll:function t(e){return 0},queryScroll:function t(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function t(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function t(e){var n=this;this.setScroll(e),setTimeout(function(){n.setScroll(e)},0)},displayEvents:function t(e){var n=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(n),this.triggerEventRender()},clearEvents:function t(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function t(e){},unrenderEvents:function t(){},triggerEventRender:function t(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function t(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function e(n,i){var r=this.trigger("eventRender",n,n,i);return r===!1?i=null:r&&r!==!0&&(i=t(r)),i},showEvent:function t(e){this.renderedEventSegEach(function(t){t.el.css("visibility","")},e)},hideEvent:function t(e){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},e)},renderedEventSegEach:function t(e,n){var i,r=this.getEventSegs();for(i=0;i<r.length;i++){n&&r[i].event._id!==n._id||r[i].el&&e.call(this,r[i])}},getEventSegs:function t(){return[]},isEventDraggable:function t(e){var n=e.source||{};return $(e.startEditable,n.startEditable,this.opt("eventStartEditable"),e.editable,n.editable,this.opt("editable"))},reportEventDrop:function t(e,n,i,r,s){var o=this.calendar,a=o.mutateEvent(e,n,i),l=function t(){a.undo(),o.reportEventChange()};this.triggerEventDrop(e,a.dateDelta,l,r,s),o.reportEventChange()},triggerEventDrop:function t(e,n,i,r,s){this.trigger("eventDrop",r[0],e,n,i,s,{})},reportExternalDrop:function e(n,i,r,s,o){var a,l,u=n.eventProps;u&&(a=t.extend({},u,i),l=this.calendar.renderEvent(a,n.stick)[0]),this.triggerExternalDrop(l,i,r,s,o)},triggerExternalDrop:function t(e,n,i,r,s){this.trigger("drop",i[0],n.start,r,s),e&&this.trigger("eventReceive",null,e)},renderDrag:function t(e,n){},unrenderDrag:function t(){},isEventResizableFromStart:function t(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function t(e){return this.isEventResizable(e)},isEventResizable:function t(e){var n=e.source||{};return $(e.durationEditable,n.durationEditable,this.opt("eventDurationEditable"),e.editable,n.editable,this.opt("editable"))},reportEventResize:function t(e,n,i,r,s){var o=this.calendar,a=o.mutateEvent(e,n,i),l=function t(){a.undo(),o.reportEventChange()};this.triggerEventResize(e,a.durationDelta,l,r,s),o.reportEventChange()},triggerEventResize:function t(e,n,i,r,s){this.trigger("eventResize",r[0],e,n,i,s,{})},select:function t(e,n){this.unselect(n),this.renderSelection(e),this.reportSelection(e,n)},renderSelection:function t(e){},reportSelection:function t(e,n){this.isSelected=!0,this.triggerSelect(e,n)},triggerSelect:function t(e,n){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),n)},unselect:function t(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function t(){},documentMousedown:function e(n){var i;this.isSelected&&this.opt("unselectAuto")&&b(n)&&(i=this.opt("unselectCancel"),i&&t(n.target).closest(i).length||this.unselect(n))},triggerDayClick:function t(e,n,i){this.trigger("dayClick",n,this.calendar.applyTimezone(e.start),i)},initHiddenDays:function e(){var n,i=this.opt("hiddenDays")||[],r=[],s=0;for(this.opt("weekends")===!1&&i.push(0,6),n=0;7>n;n++){(r[n]=-1!==t.inArray(n,i))||s++}if(!s)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function t(n){return e.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function t(e,n,i){var r=e.clone();for(n=n||1;this.isHiddenDayHash[(r.day()+(i?n:0)+7)%7];){r.add(n,"days")}return r},computeDayRange:function t(e){var n,i=e.start.clone().stripTime(),r=e.end,s=null;return r&&(s=r.clone().stripTime(),n=+r.time(),n&&n>=this.nextDayThreshold&&s.add(1,"days")),(!r||i>=s)&&(s=i.clone().add(1,"days")),{start:i,end:s}},isMultiDayEvent:function t(e){var n=this.computeDayRange(e);return n.end.diff(n.start,"days")>1}}),pe=_t.Calendar=mt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Bt,initialize:function t(){},initOptions:function t(e){var r,s,o,a;e=i(e),r=e.lang,s=ve[r],s||(r=pe.defaults.lang,s=ve[r]||{}),o=$(e.isRTL,s.isRTL,pe.defaults.isRTL),a=o?pe.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=s,this.overrides=e,this.options=n([pe.defaults,a,s,e]),Lt(this.options),this.viewSpecCache={}},getViewSpec:function t(e){var n=this.viewSpecCache;return n[e]||(n[e]=this.buildViewSpec(e))},getUnitViewSpec:function e(n){var i,r,s;if(-1!=t.inArray(n,Zt))for(i=this.header.getViewsWithButtons(),t.each(_t.views,function(t){i.push(t)}),r=0;r<i.length;r++){if(s=this.getViewSpec(i[r]),s&&s.singleUnit==n)return s}},buildViewSpec:function t(i){for(var r,s,o,a,l=this.overrides.views||{},u=[],d=[],c=[],h=i;h;){r=At[h],s=l[h],h=null,"function"==typeof r&&(r={class:r}),r&&(u.unshift(r),d.unshift(r.defaults||{}),o=o||r.duration,h=h||r.type),s&&(c.unshift(s),o=o||s.duration,h=h||s.type)}return r=A(u),r.type=i,r["class"]?(o&&(o=e.duration(o),o.valueOf()&&(r.duration=o,a=N(o),1===o.as(a)&&(r.singleUnit=a,c.unshift(l[a]||{})))),r.defaults=n(d),r.overrides=n(c),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,i),r):!1},buildViewSpecOptions:function t(e){e.options=n([pe.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Lt(e.options)},buildViewSpecButtonText:function t(e,n){function i(t){var i=t.buttonText||{};return i[n]||(e.singleUnit?i[e.singleUnit]:null)}e.buttonTextOverride=i(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||e.defaults.buttonText||i(pe.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||n},instantiateView:function t(e){var n=this.getViewSpec(e);return new n["class"](this,e,n.options,n.duration)},isValidViewType:function t(e){return Boolean(this.getViewSpec(e))},pushLoading:function t(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function t(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function t(e,n){var i,r=this.moment(e).stripZone();return i=n?this.moment(n).stripZone():r.hasTime()?r.clone().add(this.defaultTimedEventDuration):r.clone().add(this.defaultAllDayEventDuration),{start:r,end:i}}});pe.mixin(re),pe.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},pe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},pe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ve=_t.langs={};_t.datepickerLang=function(e,n,i){var r=ve[e]||(ve[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(me,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},_t.lang=function(e,i){var r,s;r=ve[e]||(ve[e]={}),i&&(r=ve[e]=n([r,i])),s=Gt(e),t.each(ye,function(t,e){null==r[t]&&(r[t]=e(s,r))}),pe.defaults.lang=e};var me={buttonText:function t(e){return{prev:Q(e.prevText),next:Q(e.nextText),today:Q(e.currentText)}},monthYearFormat:function t(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},ye={dayOfMonthFormat:function t(e,n){var i=e.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),n.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function t(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function t(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function t(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function t(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function t(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},we={smallDayDateFormat:function t(e){return e.isRTL?"D dd":"dd D"},weekFormat:function t(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function t(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};_t.lang("en",pe.englishDefaults),_t.sourceNormalizers=[],_t.sourceFetchers=[];var Se={dataType:"json",cache:!1},be=1;pe.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),s=[];for(n=0;n<r.length;n++){i=r[n],e&&e._id===i._id||s.push(i)}return s};var Ee=_t.BasicView=ge.extend({dayGridClass:he,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function t(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function t(){var e=this.dayGridClass.extend(De);return new e(this)},setRange:function t(e){ge.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function t(e){var n=ge.prototype.computeRange.call(this,e);return/year|month/.test(n.intervalUnit)&&(n.start.startOf("week"),n.start=this.skipHiddenDays(n.start),n.end.weekday()&&(n.end.add(1,"week").startOf("week"),n.end=this.skipHiddenDays(n.end,-1,!0))),n},renderDates:function t(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function t(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function t(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function t(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function t(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function t(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function t(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function t(){this.weekNumbersVisible&&(this.weekNumberWidth=d(this.el.find(".fc-week-number")))},setHeight:function t(e,n){var i,o=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),o&&"number"==typeof o&&this.dayGrid.limitRows(o),i=this.computeScrollerHeight(e),this.setGridHeight(i,n),o&&"number"!=typeof o&&this.dayGrid.limitRows(o),!n&&c(this.scrollerEl,i)&&(r(this.headRowEl,m(this.scrollerEl)),i=this.computeScrollerHeight(e),this.scrollerEl.height(i))},setGridHeight:function t(e,n){n?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},prepareHits:function t(){this.dayGrid.prepareHits()},releaseHits:function t(){this.dayGrid.releaseHits()},queryHit:function t(e,n){return this.dayGrid.queryHit(e,n)},getHitSpan:function t(e){return this.dayGrid.getHitSpan(e)},getHitEl:function t(e){return this.dayGrid.getHitEl(e)},renderEvents:function t(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function t(){return this.dayGrid.getEventSegs()},unrenderEvents:function t(){this.dayGrid.unrenderEvents()},renderDrag:function t(e,n){return this.dayGrid.renderDrag(e,n)},unrenderDrag:function t(){this.dayGrid.unrenderDrag()},renderSelection:function t(e){this.dayGrid.renderSelection(e)},unrenderSelection:function t(){this.dayGrid.unrenderSelection()}}),De={renderHeadIntroHtml:function t(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+X(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function t(e){var n=this.view;return n.weekNumbersVisible?'<td class="fc-week-number" '+n.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function t(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function t(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},Ce=_t.MonthView=Ee.extend({computeRange:function t(e){var n,i=Ee.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(n=Math.ceil(i.end.diff(i.start,"weeks",!0)),i.end.add(6-n,"weeks")),i},setGridHeight:function t(e,n){n=n||"variable"===this.opt("weekMode"),n&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!n)},isFixedWeeks:function t(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});At.basic={class:Ee},At.basicDay={type:"basic",duration:{days:1}},At.basicWeek={type:"basic",duration:{weeks:1}},At.month={class:Ce,duration:{months:1},defaults:{fixedWeekCount:!0}};var He=_t.AgendaView=ge.extend({timeGridClass:fe,timeGrid:null,dayGridClass:he,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function t(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function t(){var e=this.timeGridClass.extend(Te);return new e(this)},instantiateDayGrid:function t(){var e=this.dayGridClass.extend(xe);return new e(this)},setRange:function t(e){ge.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function e(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function t(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function t(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function t(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function t(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function t(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function t(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function t(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function t(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function t(){this.timeGrid.unrenderNowIndicator()},updateSize:function t(e){this.timeGrid.updateSize(e),ge.prototype.updateSize.call(this,e)},updateWidth:function t(){this.axisWidth=d(this.el.find(".fc-axis"))},setHeight:function t(e,n){var i,o;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=Re),i&&this.dayGrid.limitRows(i)),n||(o=this.computeScrollerHeight(e),c(this.scrollerEl,o)?(r(this.noScrollRowEls,m(this.scrollerEl)),o=this.computeScrollerHeight(e),this.scrollerEl.height(o)):(this.scrollerEl.height(o).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function t(){var n=e.duration(this.opt("scrollTime")),i=this.timeGrid.computeTimeTop(n);return i=Math.ceil(i),i&&i++,i},prepareHits:function t(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function t(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function t(e,n){var i=this.timeGrid.queryHit(e,n);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(e,n)),i},getHitSpan:function t(e){return e.component.getHitSpan(e)},getHitEl:function t(e){return e.component.getHitEl(e)},renderEvents:function t(e){var n,i,r=[],s=[],o=[];for(i=0;i<e.length;i++){e[i].allDay?r.push(e[i]):s.push(e[i])}n=this.timeGrid.renderEvents(s),this.dayGrid&&(o=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function t(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function t(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function t(e,n){return e.start.hasTime()?this.timeGrid.renderDrag(e,n):this.dayGrid?this.dayGrid.renderDrag(e,n):void 0},unrenderDrag:function t(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function t(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function t(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Te={renderHeadIntroHtml:function t(){var e,n=this.view;return n.opt("weekNumbers")?(e=this.start.format(n.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"><span>"+X(e)+"</span></th>"):'<th class="fc-axis '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"></th>"},renderBgIntroHtml:function t(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function t(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},xe={renderBgIntroHtml:function t(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||X(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function t(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Re=5,ke=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return At.agenda={class:He,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},At.agendaDay={type:"agenda",duration:{days:1}},At.agendaWeek={type:"agenda",duration:{weeks:1}},_t});