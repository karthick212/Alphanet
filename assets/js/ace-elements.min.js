if("undefined"==typeof jQuery)throw new Error("Ace's JavaScript requires jQuery");!function(t,e){var i=function e(i,n){function s(t){t.preventDefault(),t.stopPropagation();var e=I.offset(),i=e[v],n=y?t.pageY:t.pageX;n>i+S?(S=n-i-j+H,S>O&&(S=O)):(S=n-i-H,0>S&&(S=0)),u.update_scroll()}function a(e){e.preventDefault(),e.stopPropagation(),it=et=y?e.pageY:e.pageX,B=!0,t("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",o),t(Q).off("mouseup.ace_scroll").on("mouseup.ace_scroll",l),I.addClass("active"),N&&u.$element.trigger("drag.start")}function o(t){t.preventDefault(),t.stopPropagation(),it=y?t.pageY:t.pageX,it-et+S>O?it=et+O-S:0>it-et+S&&(it=et-S),S+=it-et,et=it,0>S?S=0:S>O&&(S=O),u.update_scroll()}function l(e){e.preventDefault(),e.stopPropagation(),B=!1,t("html").off(".ace_scroll"),t(Q).off(".ace_scroll"),I.removeClass("active"),N&&u.$element.trigger("drag.end"),k&&G&&!K&&c()}function r(t){var e=+new Date;if(X&&e-st>1e3){var i=A[w];Z!=i&&(Z=i,tt=!0,u.reset(!0)),st=e}k&&G&&(null!=nt&&(clearTimeout(nt),nt=null),I.addClass("not-idle"),K||1!=t||c())}function c(){null!=nt&&(clearTimeout(nt),nt=null),nt=setTimeout(function(){nt=null,I.removeClass("not-idle")},V)}function d(){I.css("visibility","hidden").addClass("scroll-hover"),M=y?parseInt(I.outerWidth())||0:parseInt(I.outerHeight())||0,I.css("visibility","").removeClass("scroll-hover")}function h(){if(J!==!1){var t=$.offset(),e=t.left,i=t.top;y?P||(e+=$.outerWidth()-M):P||(i+=$.outerHeight()-M),J===!0?I.css({top:parseInt(i),left:parseInt(e)}):"left"===J?I.css("left",parseInt(e)):"top"===J&&I.css("top",parseInt(i))}}var u=this,f=ace.helper.getAttrSettings(i,t.fn.ace_scroll.defaults),p=t.extend({},t.fn.ace_scroll.defaults,n,f);this.size=0,this.lock=!1,this.lock_anyway=!1,this.$element=t(i),this.element=i;var v,m,g,b,_,w,y=!0,C=!1,k=!1,x=!1,$=null,A=null,I=null,z=null,D=null,L=null,E=null,j=0,S=0,O=0,H=0,F=!0,T=!1,W="",P=!1,M=0,R=1,q=!1,B=!1,Q="onmouseup"in window?window:"html",N=p.dragEvent||!1,U=n.scrollEvent||!1,Y=p.detached||!1,J=p.updatePos||!1,G=p.hideOnIdle||!1,V=p.hideDelay||1500,K=!1,X=p.observeContent||!1,Z=0,tt=!0;this.ref=function(){return this},this.create=function(e){if(!x){e&&(p=t.extend({},t.fn.ace_scroll.defaults,e)),this.size=parseInt(this.$element.attr("data-size"))||p.size||200,y=!p.horizontal,v=y?"top":"left",m=y?"height":"width",g=y?"maxHeight":"maxWidth",b=y?"clientHeight":"clientWidth",_=y?"scrollTop":"scrollLeft",w=y?"scrollHeight":"scrollWidth",this.$element.addClass("ace-scroll"),"static"==this.$element.css("position")?(q=this.element.style.position,this.element.style.position="relative"):q=!1;var i=null;Y?i=t('<div class="scroll-track scroll-detached"><div class="scroll-bar"></div></div>').appendTo("body"):(this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>')),$=this.$element,Y||($=this.$element.find(".scroll-content").eq(0)),y||$.wrapInner("<div />"),A=$.get(0),Y?(I=i,h()):I=this.$element.find(".scroll-track").eq(0),z=I.find(".scroll-bar").eq(0),D=I.get(0),L=z.get(0),E=L.style,y||I.addClass("scroll-hz"),p.styleClass&&(W=p.styleClass,I.addClass(W),P=!!W.match(/scroll\-left|scroll\-top/)),0==M&&(I.show(),d()),I.hide(),I.on("mousedown",s),z.on("mousedown",a),$.on("scroll",function(){F&&(S=parseInt(Math.round(this[_]*R)),E[v]=S+"px"),F=!1,U&&this.$element.trigger("scroll",[A])}),p.mouseWheel&&(this.lock=p.mouseWheelLock,this.lock_anyway=p.lockAnyway,this.$element.on(t.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(e){if(!C){if(r(!0),!k)return!u.lock_anyway;B&&(B=!1,t("html").off(".ace_scroll"),t(Q).off(".ace_scroll"),N&&u.$element.trigger("drag.end")),e.deltaY=e.deltaY||0;var i=e.deltaY>0||e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?1:-1,n=!1,s=A[b],a=A[_];u.lock||(n=-1==i?A[w]<=a+s:0==a),u.move_bar(!0);var o=parseInt(s/8);return 80>o&&(o=80),o>u.size&&(o=u.size),o+=1,A[_]=a-i*o,n&&!u.lock_anyway}}));var n=ace.vars.touch&&"ace_drag"in t.event.special&&p.touchDrag;if(n){var o="",l=n?"ace_drag":"swipe";this.$element.on(l+".ace_scroll",function(t){if(C)return void(t.retval.cancel=!0);if(r(!0),!k)return void(t.retval.cancel=this.lock_anyway);if(o=t.direction,y&&("up"==o||"down"==o)||!y&&("left"==o||"right"==o)){var e=y?t.dy:t.dx;0!=e&&(Math.abs(e)>20&&n&&(e=2*e),u.move_bar(!0),A[_]=A[_]+e)}})}G&&I.addClass("idle-hide"),X&&I.on("mouseenter.ace_scroll",function(){K=!0,r(!1)}).on("mouseleave.ace_scroll",function(){K=!1,0==B&&c()}),this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(t){tt=!0,X?r(!0):p.hoverReset&&u.reset(!0),I.addClass("scroll-hover")}).on("mouseleave.ace_scroll touchend.ace_scroll",function(){I.removeClass("scroll-hover")}),y||$.children(0).css(m,this.size),$.css(g,this.size),C=!1,x=!0}},this.is_active=function(){return k},this.is_enabled=function(){return!C},this.move_bar=function(t){F=t},this.get_track=function(){return D},this.reset=function(t){if(!C){x||this.create();var e=this.size;if(!t||tt){if(tt=!1,Y){var i=parseInt(Math.round((parseInt($.css("border-top-width"))+parseInt($.css("border-bottom-width")))/2.5));e-=i}var n=y?A[w]:e;if(y&&0==n||!y&&0==this.element.scrollWidth)return void I.removeClass("scroll-active");var s=y?e:A.clientWidth;y||$.children(0).css(m,e),$.css(g,this.size),n>s?(k=!0,I.css(m,s).show(),R=parseFloat((s/n).toFixed(5)),j=parseInt(Math.round(s*R)),H=parseInt(Math.round(j/2)),O=s-j,S=parseInt(Math.round(A[_]*R)),E[m]=j+"px",E[v]=S+"px",I.addClass("scroll-active"),0==M&&d(),T||(p.reset&&(A[_]=0,E[v]=0),T=!0),Y&&h()):(k=!1,I.hide(),I.removeClass("scroll-active"),$.css(g,""))}}},this.disable=function(){A[_]=0,E[v]=0,C=!0,k=!1,I.hide(),this.$element.addClass("scroll-disabled"),I.removeClass("scroll-active"),$.css(g,"")},this.enable=function(){C=!1,this.$element.removeClass("scroll-disabled")},this.destroy=function(){k=!1,C=!1,x=!1,this.$element.removeClass("ace-scroll scroll-disabled scroll-active"),this.$element.off(".ace_scroll"),Y||(y||$.find("> div").children().unwrap(),$.children().unwrap(),$.remove()),I.remove(),q!==!1&&(this.element.style.position=q),null!=nt&&(clearTimeout(nt),nt=null)},this.modify=function(e){e&&(p=t.extend({},p,e)),this.destroy(),this.create(),tt=!0,this.reset(!0)},this.update=function(e){e&&(p=t.extend({},p,e)),this.size=p.size||this.size,this.lock=p.mouseWheelLock||this.lock,this.lock_anyway=p.lockAnyway||this.lock_anyway,G=p.hideOnIdle||G,V=p.hideDelay||V,X=p.observeContent||!1,N=p.dragEvent||!1,"undefined"!=typeof e.styleClass&&(W&&I.removeClass(W),W=e.styleClass,W&&I.addClass(W),P=!!W.match(/scroll\-left|scroll\-top/))},this.start=function(){A[_]=0},this.end=function(){A[_]=A[w]},this.hide=function(){I.hide()},this.show=function(){I.show()},this.update_scroll=function(){F=!1,E[v]=S+"px",A[_]=parseInt(Math.round(S/R))};var et=-1,it=-1,nt=null,st=0;return this.track_size=function(){return 0==M&&d(),M},this.create(),tt=!0,this.reset(!0),Z=A[w],this};t.fn.ace_scroll=function(n,s){var a,o=this.each(function(){var e=t(this),o=e.data("ace_scroll"),l="object"==typeof n&&n;o||e.data("ace_scroll",o=new i(this,l)),"string"==typeof n&&(a=o[n](s))});return a===e?o:a},t.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,observeContent:!1,hideOnIdle:!1,hideDelay:1500,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,scrollEvent:!1,detached:!1,updatePos:!0}}(window.jQuery),function(t,e){var i=function e(i,n){var s=ace.helper.getAttrSettings(i,t.fn.ace_colorpicker.defaults),a=t.extend({},t.fn.ace_colorpicker.defaults,n,s),o=t(i),l="",r="",c=null,d=[];o.addClass("hide").find("option").each(function(){var t="colorpick-btn",e=this.value.replace(/[^\w\s,#\(\)\.]/g,"");e.indexOf("number")>=0||(this.value!=e&&(this.value=e),this.selected&&(t+=" selected",r=e),d.push(e),l+='<li><a class="'+t+'" style="background-color:'+e+';" data-color="'+e+'"></a></li>')}).end().on("change.color",function(){o.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">\t\t<a data-toggle="dropdown" class="dropdown-toggle" '+(a.auto_pos?'data-position="auto"':"")+'><span class="btn-colorpicker" style="background-color:'+r+'"></span></a><ul class="dropdown-menu'+(a.caret?" dropdown-caret":"")+(a.pull_right?" dropdown-menu-right":"")+'">'+l+"</ul></div>");var h=o.next().find(".dropdown-menu");h.on(ace.click_event,function(e,i){var n=t(e.target);if(!n.is(".colorpick-btn"))return!1;c&&c.removeClass("selected"),c=n,c.addClass("selected");var s=c.data("color");return i!==!0&&o.val(s).trigger("change"),o.next().find(".btn-colorpicker").css("background-color",s),e.preventDefault(),!0}),c=o.next().find("a.selected"),this.pick=function(e,n){if("number"==typeof e){if(e>=d.length)return;i.selectedIndex=e,h.find("a:eq("+e+")").trigger(ace.click_event,[!0])}else if("string"==typeof e){var s=e.replace(/[^\w\s,#\(\)\.]/g,"");if(e=d.indexOf(s),-1==e&&n===!0&&(d.push(s),t("<option />").appendTo(o).val(s),t('<li><a class="colorpick-btn"></a></li>').appendTo(h).find("a").css("background-color",s).data("color",s),e=d.length-1),-1==e)return;h.find("a:eq("+e+")").trigger(ace.click_event,[!0])}},this.destroy=function(){o.removeClass("hide").next().remove(),d=[]}};t.fn.ace_colorpicker=function(n,s){var a,o=this.each(function(){var e=t(this),o=e.data("ace_colorpicker"),l="object"==typeof n&&n;o||e.data("ace_colorpicker",o=new i(this,l)),"string"==typeof n&&(a=o[n](s))});return a===e?o:a},t.fn.ace_colorpicker.defaults={pull_right:!1,caret:!0,auto_pos:!0}}(window.jQuery),function(t,e){var i="multiple"in document.createElement("INPUT"),n="FileList"in window,s="FileReader"in window,a="File"in window,o=function e(i,n){var s=this,a=ace.helper.getAttrSettings(i,t.fn.ace_file_input.defaults);this.settings=t.extend({},t.fn.ace_file_input.defaults,n,a),this.$element=t(i),this.element=i,this.disabled=!1,this.can_reset=!0,this.$element.off("change.ace_inner_call").on("change.ace_inner_call",function(t,e){return s.disabled||e===!0?void 0:r.call(s)});var o=this.$element.closest("label").css({display:"block"}),e=0==o.length?"label":"span";this.$element.wrap("<"+e+' class="ace-file-input" />'),this.apply_settings(),this.reset_input_field()};o.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},o.prototype.apply_settings=function(){var e=this;this.multi=this.$element.attr("multiple")&&i,this.well_style="well"==this.settings.style,this.well_style?(this.settings.thumbnail||(this.settings.thumbnail="small"),this.$element.parent().addClass("ace-file-multiple")):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<span class="ace-file-container" data-title="'+this.settings.btn_choose+'"><span class="ace-file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+ace.vars.icon+this.settings.no_icon+'"></i>':"")+"</span></span>"),this.$label=this.$element.next(),this.$container=this.$element.closest(".ace-file-input");var s=!!this.settings.icon_remove;if(s){var a=t('<a class="remove" href="#"><i class="'+ace.vars.icon+this.settings.icon_remove+'"></i></a>').appendTo(this.$element.parent());a.on(ace.click_event,function(t){if(t.preventDefault(),!e.can_reset)return!1;var i=!0;if(e.settings.before_remove&&(i=e.settings.before_remove.call(e.element)),!i)return!1;e.reset_input();return!1})}this.settings.droppable&&n&&l.call(this)},o.prototype.show_file_list=function(e,i){var n="undefined"==typeof e?this.$element.data("ace_input_files"):e;if(n&&0!=n.length){this.well_style&&(this.$label.find(".ace-file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var o=0;o<n.length;o++){var l="",r=!1;if("string"==typeof n[o])l=n[o];else if(a&&n[o]instanceof File)l=t.trim(n[o].name);else{if(!(n[o]instanceof Object&&n[o].hasOwnProperty("name")))continue;l=n[o].name,n[o].hasOwnProperty("type")&&(r=n[o].type),n[o].hasOwnProperty("path")||(n[o].path=n[o].name)}var d=l.lastIndexOf("\\")+1;0==d&&(d=l.lastIndexOf("/")+1),l=l.substr(d),0==r&&(r=/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(l)?"image":/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(l)?"video":/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(l)?"audio":"file");var h={file:"fa fa-file",image:"fa fa-picture-o file-image",video:"fa fa-film file-video",audio:"fa fa-music file-audio"},u=h[r];if(this.well_style){this.$label.append('<span class="ace-file-name" data-title="'+l+'"><i class="'+ace.vars.icon+u+'"></i></span>');var f=i===!0&&a&&n[o]instanceof File?t.trim(n[o].type):"",p=s&&this.settings.thumbnail&&(f.length>0&&f.match("image")||0==f.length&&"image"==r);if(p){var v=this;t.when(c.call(this,n[o])).fail(function(t){v.settings.preview_error&&v.settings.preview_error.call(v,l,t.code)})}}else this.$label.find(".ace-file-name").attr({"data-title":l}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+u)}return!0}},o.prototype.reset_input=function(){this.reset_input_ui(),this.reset_input_field()},o.prototype.reset_input_ui=function(){this.$label.attr({"data-title":this.settings.btn_choose,class:"ace-file-container"}).find(".ace-file-name:first").attr({"data-title":this.settings.no_file,class:"ace-file-name"}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find(ace.vars[".icon"]).remove(),this.$label.find(".ace-file-name").not(":first").remove(),this.reset_input_data()},o.prototype.reset_input_field=function(){this.$element.wrap("<form>").parent().get(0).reset(),this.$element.unwrap()},o.prototype.reset_input_data=function(){this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method"))},o.prototype.enable_reset=function(t){this.can_reset=t},o.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},o.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},o.prototype.files=function(){return t(this).data("ace_input_files")||null},o.prototype.method=function(){return t(this).data("ace_input_method")||""},o.prototype.update_settings=function(e){this.settings=t.extend({},this.settings,e),this.apply_settings()},o.prototype.loading=function(e){if(e===!1)this.$container.find(".ace-file-overlay").remove(),this.element.removeAttribute("readonly");else{var i="string"==typeof e?e:'<i class="overlay-content fa fa-spin fa-spinner orange2 fa-2x"></i>',n=this.$container.find(".ace-file-overlay");0==n.length&&(n=t('<div class="ace-file-overlay"></div>').appendTo(this.$container),n.on("click tap",function(t){return t.stopImmediatePropagation(),t.preventDefault(),!1}),this.element.setAttribute("readonly","true")),n.empty().append(i)}};var l=function t(){var e=this,i=this.$element.parent();i.off("dragenter").on("dragenter",function(t){t.preventDefault(),t.stopPropagation()}).off("dragover").on("dragover",function(t){t.preventDefault(),t.stopPropagation()}).off("drop").on("drop",function(t){if(t.preventDefault(),t.stopPropagation(),!e.disabled){var i=t.originalEvent.dataTransfer,n=i.files;if(!e.multi&&n.length>1){var s=[];s.push(n[0]),n=s}return n=h.call(e,n,!0),n===!1?!1:(e.$element.data("ace_input_method","drop"),e.$element.data("ace_input_files",n),e.show_file_list(n,!0),e.$element.triggerHandler("change",[!0]),!0)}})},r=function t(){var e=this.element.files||[this.element.value];return e=h.call(this,e,!1),e===!1?!1:(this.$element.data("ace_input_method","select"),this.$element.data("ace_input_files",e),this.show_file_list(e,!0),!0)},c=function e(i){var n=this,s=n.$label.find(".ace-file-name:last"),l=new t.Deferred,r=function i(n,a){s.prepend("<img class='middle' style='display:none;' />");var o=s.find("img:last").get(0);t(o).one("load",function(){c.call(null,o,a)}).one("error",function(){e.call(null,o)}),o.src=n},c=function e(i,a){var r=n.settings.previewSize;r||(n.settings.previewWidth||n.settings.previewHeight?r={previewWidth:n.settings.previewWidth,previewHeight:n.settings.previewHeight}:(r=50,"large"==n.settings.thumbnail&&(r=150))),"fit"==n.settings.thumbnail?r=s.width():"number"==typeof r&&(r=parseInt(Math.min(r,s.width())));var e=d(i,r);if(null==e)return t(this).remove(),void l.reject({code:o.error.THUMBNAIL_FAILED});var c=!0;if(a&&a instanceof File){a.width=e.width,a.height=e.height,n.$element.trigger("file.preview.ace",{file:a});var h;n.$element.trigger(h=new t.Event("file.preview.ace"),{file:a}),h.isDefaultPrevented()&&(c=!1)}if(c){var u=e.previewWidth,f=e.previewHeight;"small"==n.settings.thumbnail?u=f=parseInt(Math.max(u,f)):s.addClass("large"),t(i).css({"background-image":"url("+e.src+")",width:u,height:f}).data("thumb",e.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show()}l.resolve()},e=function t(e){s.find("img").remove(),l.reject({code:o.error.IMAGE_LOAD_FAILED})};if(a&&i instanceof File){var h=new FileReader;h.onload=function(t){r(t.target.result,i)},h.onerror=function(t){l.reject({code:o.error.FILE_LOAD_FAILED})},h.readAsDataURL(i)}else i instanceof Object&&i.hasOwnProperty("path")&&r(i.path,null);return l.promise()},d=function e(i,n,s){var a=i.width,o=i.height;a=a>0?a:t(i).width(),o=o>0?o:t(i).height();var l=!1,r=!1,c=!1;"number"==typeof n?l=n:n instanceof Object&&(n.previewWidth&&!n.previewHeight?c=n.previewWidth:n.previewHeight&&!n.previewWidth?r=n.previewHeight:n.previewWidth&&n.previewHeight&&(c=n.previewWidth,r=n.previewHeight)),l?a>o?(c=l,r=parseInt(o/a*c)):(r=l,c=parseInt(a/o*r)):!r&&c?r=parseInt(o/a*c):r&&!c&&(c=parseInt(a/o*r));var d;try{var e=document.createElement("canvas");e.width=c,e.height=r;var h=e.getContext("2d");h.drawImage(i,0,0,a,o,0,0,c,r),d=e.toDataURL()}catch(u){d=null}return d?(/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(d)||(d=null),d?{src:d,previewWidth:c,previewHeight:r,width:a,height:o}:null):null},h=function t(e,i){var s=p.call(this,e,i);return-1===s?(this.reset_input(),!1):s&&0!=s.length?((s instanceof Array||n&&s instanceof FileList)&&(e=s),s=!0,this.settings.before_change&&(s=this.settings.before_change.call(this.element,e,i)),-1===s?(this.reset_input(),!1):s&&0!=s.length?((s instanceof Array||n&&s instanceof FileList)&&(e=s),e):(this.$element.data("ace_input_files")||this.reset_input(),!1)):(this.$element.data("ace_input_files")||this.reset_input(),!1)},u=function t(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp(".(?:"+e.join("|")+")$","i")):null},f=function t(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp("^(?:"+e.join("|").replace(/\//g,"\\/")+")$","i")):null},p=function e(i,n){var s=u(this.settings.allowExt),o=u(this.settings.denyExt),l=f(this.settings.allowMime),r=f(this.settings.denyMime),c=this.settings.maxSize||!1;if(!(s||o||l||r||c))return!0;for(var d=[],h={},p=0;p<i.length;p++){var e=i[p],v=a?e.name:e;if(!s||s.test(v)){if(o&&o.test(v))"ext"in h||(h.ext=[]),h.ext.push(v);else{var m;if(a){if((m=t.trim(e.type)).length>0){if(l&&!l.test(m)){"mime"in h||(h.mime=[]),h.mime.push(v);continue}if(r&&r.test(m)){"mime"in h||(h.mime=[]),h.mime.push(v);continue}}c&&e.size>c?("size"in h||(h.size=[]),h.size.push(v)):d.push(e)}else d.push(e)}}else"ext"in h||(h.ext=[]),h.ext.push(v)}if(d.length==i.length)return i;var g={ext:0,mime:0,size:0};"ext"in h&&(g.ext=h.ext.length),"mime"in h&&(g.mime=h.mime.length),"size"in h&&(g.size=h.size.length);var b;return this.$element.trigger(b=new t.Event("file.error.ace"),{file_count:i.length,invalid_count:i.length-d.length,error_list:h,error_count:g,dropped:n}),b.isDefaultPrevented()?-1:d};t.fn.aceFileInput=t.fn.ace_file_input=function(i,n){var s,a=this.each(function(){var e=t(this),a=e.data("ace_file_input"),l="object"==typeof i&&i;a||e.data("ace_file_input",a=new o(this,l)),"string"==typeof i&&(s=a[i](n))});return s===e?a:s},t.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"fa fa-upload",btn_choose:"Choose",btn_change:"Change",icon_remove:"fa fa-times",droppable:!1,thumbnail:!1,allowExt:null,denyExt:null,allowMime:null,denyMime:null,maxSize:!1,previewSize:!1,previewWidth:!1,previewHeight:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),!function(t){"use strict";var e=function e(i,n){this.$element=t(i),this.options=t.extend({},t.fn.bs_typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function t(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function t(e){return e},show:function e(){var i=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:i.top+i.height,left:i.left}).show(),this.shown=!0,this},hide:function t(){return this.$menu.hide(),this.shown=!1,this},lookup:function e(i){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function e(i){var n=this;return i=t.grep(i,function(t){return n.matcher(t)}),i=this.sorter(i),i.length?this.render(i.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function t(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function t(e){for(var i,n=[],s=[],a=[];i=e.shift();){i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?s.push(i):a.push(i):n.push(i)}return n.concat(s,a)},highlighter:function t(e){var i=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function e(i){var n=this;return i=t(i).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),i.first().addClass("active"),this.$menu.html(i),this},next:function e(i){var n=this.$menu.find(".active").removeClass("active"),s=n.next();s.length||(s=t(this.$menu.find("li")[0])),s.addClass("active")},prev:function t(e){var i=this.$menu.find(".active").removeClass("active"),n=i.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function e(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function t(e){var i=e in this.$element;return i||(this.$element.setAttribute(e,"return;"),i="function"==typeof this.$element[e]),i},move:function t(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function e(i){this.suppressKeyPressRepeat=~t.inArray(i.keyCode,[40,38,9,13,27]),this.move(i)},keypress:function t(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function t(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function t(e){this.focused=!0},blur:function t(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function t(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function e(i){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(i.currentTarget).addClass("active")},mouseleave:function t(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.bs_typeahead;t.fn.bs_typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("bs_typeahead"),a="object"==typeof i&&i;s||n.data("bs_typeahead",s=new e(this,a)),"string"==typeof i&&s[i]()})},t.fn.bs_typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.bs_typeahead.Constructor=e,t.fn.bs_typeahead.noConflict=function(){return t.fn.bs_typeahead=i,this},t(document).on("focus.bs_typeahead.data-api",'[data-provide="bs_typeahead"]',function(e){var i=t(this);i.data("bs_typeahead")||i.bs_typeahead(i.data())})}(window.jQuery),function(t,e){t.fn.ace_wysiwyg=function(e,i){var n=t.extend({speech_button:!0,wysiwyg:{}},e),s=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],a={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"fa fa-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"fa fa-text-height",title:"Font Size"},bold:{icon:"fa fa-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"fa fa-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"fa fa-strikethrough",title:"Strikethrough"},underline:{icon:"fa fa-underline",title:"Underline"},insertunorderedlist:{icon:"fa fa-list-ul",title:"Bullet list"},insertorderedlist:{icon:"fa fa-list-ol",title:"Number list"},outdent:{icon:"fa fa-outdent",title:"Reduce indent (Shift+Tab)"},indent:{icon:"fa fa-indent",title:"Indent (Tab)"},justifyleft:{icon:"fa fa-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"fa fa-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"fa fa-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"fa fa-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"fa fa-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"fa fa-chain-broken",title:"Remove Hyperlink"},insertImage:{icon:"fa fa-picture-o",title:"Insert picture",button_text:'<i class="'+ace.vars.icon+'fa fa-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:s,title:"Change Color"},backColor:{values:s,title:"Change Background Color"},undo:{icon:"fa fa-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"fa fa-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"fa fa-code",title:"View Source"}},o=n.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var e=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var i in o){if(o.hasOwnProperty(i)){var s=o[i];if(null===s){e+=' </div> <div class="btn-group"> ';continue}if("string"==typeof s&&s in a)s=a[s],s.name=o[i];else{if(!("object"==typeof s&&s.name in a))continue;s=t.extend(a[s.name],s)}var l="className"in s?s.className:"btn-default";switch(s.name){case"font":e+=' <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i><i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',e+=' <ul class="dropdown-menu dropdown-light dropdown-caret">';for(var r in s.values){s.values.hasOwnProperty(r)&&(e+=' <li><a data-edit="fontName '+s.values[r]+'" style="font-family:\''+s.values[r]+"'\">"+s.values[r]+"</a></li> ")}e+=" </ul>";break;case"fontSize":e+=' <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i>&nbsp;<i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',e+=' <ul class="dropdown-menu dropdown-light dropdown-caret"> ';for(var c in s.values){s.values.hasOwnProperty(c)&&(e+=' <li><a data-edit="fontSize '+c+'"><font size="'+c+'">'+s.values[c]+"</font></a></li> ")}e+=" </ul> ";break;case"createLink":e+=' <div class="btn-group"> <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i></a> ',e+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">\t\t\t\t\t\t\t <div class="input-group">\t\t\t\t\t\t\t\t<input class="form-control" placeholder="'+s.placeholder+'" type="text" data-edit="'+s.name+'" />\t\t\t\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t\t\t\t<button class="btn btn-sm '+s.button_class+'" type="button">'+s.button_text+"</button>\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t</div> </div>";break;case"insertImage":e+=' <div class="btn-group"> <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i></a> ',e+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">\t\t\t\t\t\t\t <div class="input-group">\t\t\t\t\t\t\t\t<input class="form-control" placeholder="'+s.placeholder+'" type="text" data-edit="'+s.name+'" />\t\t\t\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t\t\t\t<button class="btn btn-sm '+s.button_insert_class+'" type="button">'+s.button_insert+"</button>\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t </div>",s.choose_file&&"FileReader"in window&&(e+='<div class="space-2"></div>\t\t\t\t\t\t\t <label class="center block no-margin-bottom">\t\t\t\t\t\t\t\t<button class="btn btn-sm '+s.button_class+' wysiwyg-choose-file" type="button">'+s.button_text+'</button>\t\t\t\t\t\t\t\t<input type="file" data-edit="'+s.name+'" />\t\t\t\t\t\t\t  </label>'),e+=" </div> </div>";break;case"foreColor":case"backColor":e+=' <select class="hide wysiwyg_colorpicker" title="'+s.title+'"> ',t.each(s.values,function(t,i){e+=' <option value="'+i+'">'+i+"</option> "}),e+=" </select> ",e+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+s.name+'" /> ';break;case"viewSource":e+=' <a class="btn btn-sm '+l+'" data-view="source" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i></a> ';break;default:e+=' <a class="btn btn-sm '+l+'" data-edit="'+s.name+'" title="'+s.title+'"><i class="'+ace.vars.icon+s.icon+'"></i></a> '}}}e+=" </div> ";var d;n.speech_button&&"onwebkitspeechchange"in(d=document.createElement("input"))&&(e+=' <input class="wysiwyg-speech-input" type="text" data-edit="inserttext" x-webkit-speech />'),d=null,e+=" </div> ",e=n.toolbar_place?n.toolbar_place.call(this,e):t(this).before(e).prev(),t.fn.tooltip&&e.find("a[title]").tooltip({animation:!1,container:"body"}),e.find(".dropdown-menu input[type=text]").on("click",function(){return!1}).on("change",function(){t(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(e){27==e.which?(this.value="",t(this).change()):13==e.which&&(e.preventDefault(),e.stopPropagation(),t(this).change())}),e.find("input[type=file]").prev().on(ace.click_event,function(e){t(this).next().click()}),e.find(".wysiwyg_colorpicker").each(function(){var e=t(this).ace_colorpicker({pull_right:!0}).change(function(){t(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker");t.fn.tooltip&&e.tooltip({title:this.title,animation:!1,container:"body"})});var h=t(this),u=!1;e.find("a[data-view=source]").on("click",function(e){if(e.preventDefault(),u){var i=h.next();h.html(i.val()).show(),i.remove(),t(this).removeClass("active")}else t("<textarea />").css({width:h.outerWidth(),height:h.outerHeight()}).val(h.html()).insertAfter(h),h.hide(),t(this).addClass("active");u=!u});var f=t.extend({},{activeToolbarClass:"active",toolbarSelector:e},n.wysiwyg||{});t(this).wysiwyg(f)}),this}}(window.jQuery),function(t,e){function i(e,i){var n=ace.helper.getAttrSettings(e,t.fn.ace_spinner.defaults),s=t.extend({},t.fn.ace_spinner.defaults,i,n),a=s.max;a=(""+a).length;var o=parseInt(Math.max(20*a+40,90)),l=t(e),r="btn-sm",c=2;l.hasClass("input-sm")?(r="btn-xs",c=1):l.hasClass("input-lg")&&(r="btn-lg",c=3),2==c?o+=25:3==c&&(o+=50),l.addClass("spinbox-input form-control text-center").wrap('<div class="ace-spinner middle">');var d=l.closest(".ace-spinner").spinbox(s).wrapInner("<div class='input-group'></div>"),h=d.data("fu.spinbox");s.on_sides?(l.before('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-down '+r+" "+s.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_down+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>').after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+r+" "+s.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_up+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>'),d.addClass("touch-spinner"),d.css("width",o+"px")):(l.after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+r+" "+s.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_up+'"></i>\t\t\t\t\t</button>\t\t\t\t\t<button type="button" class="btn spinbox-down '+r+" "+s.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_down+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>'),ace.vars.touch||s.touch_spinner?(d.addClass("touch-spinner"),d.css("width",o+"px")):(l.next().addClass("btn-group-vertical"),d.css("width",o+"px"))),d.on("changed",function(){l.trigger("change")}),this._call=function(t,e){h[t](e)}}t.fn.ace_spinner=function(n,s){var a,o=this.each(function(){var e=t(this),o=e.data("ace_spinner"),l="object"==typeof n&&n;o||(l=t.extend({},t.fn.ace_spinner.defaults,n),e.data("ace_spinner",o=new i(this,l))),"string"==typeof n&&(a=o._call(n,s))});return a===e?o:a},t.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}}(window.jQuery),function(t,e){t.fn.aceTree=t.fn.ace_tree=function(e){var i={"open-icon":ace.vars.icon+"fa fa-folder-open","close-icon":ace.vars.icon+"fa fa-folder","toggle-icon":ace.vars.icon+"fa fa-play","selected-icon":ace.vars.icon+"fa fa-check","unselected-icon":ace.vars.icon+"fa fa-times","base-icon":ace.vars.icon+"fa","folder-open-icon":"fa fa-plus-square-o","folder-close-icon":"fa fa-plus-minus-o",loadingHTML:"Loading..."};return this.each(function(){var n=ace.helper.getAttrSettings(this,i),s=t.extend({},i,e,n),a=t(this);a.addClass("tree").attr("role","tree"),a.html('<li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">\t\t\t\t'+(s.folderSelect?'<i class="icon-caret '+s["folder-open-icon"]+'"></i>&nbsp;':"")+'\t\t\t\t<div class="tree-branch-header">\t\t\t\t\t<span class="tree-branch-name">\t\t\t\t\t\t<i class="icon-folder '+s["close-icon"]+'"></i>\t\t\t\t\t\t<span class="tree-label"></span>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t\t<ul class="tree-branch-children" role="group"></ul>\t\t\t\t<div class="tree-loader" role="alert">'+s.loadingHTML+'</div>\t\t\t</li>\t\t\t<li class="tree-item hide" data-template="treeitem" role="treeitem">\t\t\t\t<span class="tree-item-name">\t\t\t\t  '+(null==s["unselected-icon"]?"":'<i class="icon-item '+s["unselected-icon"]+'"></i>')+'\t\t\t\t  <span class="tree-label"></span>\t\t\t\t</span>\t\t\t</li>'),a.addClass(1==s.selectable?"tree-selectable":"tree-unselectable"),a.tree(s)}),this}}(window.jQuery),function(t,e){t.fn.aceWizard=t.fn.ace_wizard=function(e){return this.each(function(){var i=t(this);i.wizard(),ace.vars.old_ie&&i.find("ul.steps > li").last().addClass("last-child");var n=e&&e.buttons?t(e.buttons):i.siblings(".wizard-actions").eq(0),s=i.data("fu.wizard");s.$prevBtn.remove(),s.$nextBtn.remove(),s.$prevBtn=n.find(".btn-prev").eq(0).on(ace.click_event,function(){s.previous()}).attr("disabled","disabled"),s.$nextBtn=n.find(".btn-next").eq(0).on(ace.click_event,function(){s.next()}).removeAttr("disabled"),s.nextText=s.$nextBtn.text();var a=e&&(e.selectedItem&&e.selectedItem.step||e.step);a&&(s.currentStep=a,s.setState())}),this}}(window.jQuery),function(t,e){function i(e,i){var s=this,a=t(e),o="right",l=!1,r=a.hasClass("fade"),c=ace.helper.getAttrSettings(e,t.fn.ace_aside.defaults);if(this.settings=t.extend({},t.fn.ace_aside.defaults,i,c),!this.settings.background||i.scroll_style||c.scroll_style||(this.settings.scroll_style="scroll-white no-track"),this.container=this.settings.container,this.container)try{t(this.container).get(0)==document.body&&(this.container=null)}catch(p){}this.container&&(this.settings.backdrop=!1,a.addClass("aside-contained"));var d=a.find(".modal-dialog"),h=a.find(".modal-content"),u=300;this.initiate=function(){e.className=e.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/gi,"$1$3"),o=this.settings.placement,o&&(o=t.trim(o.toLowerCase())),o&&/right|top|left|bottom/.test(o)||(o="right"),a.attr("data-placement",o),a.addClass("aside-"+o),/right|left/.test(o)?(l=!0,a.addClass("aside-vc")):a.addClass("aside-hz"),this.settings.fixed&&a.addClass("aside-fixed"),this.settings.background&&a.addClass("aside-dark"),this.settings.offset&&a.addClass("navbar-offset"),this.settings.transition||a.addClass("transition-off"),a.addClass("aside-hidden"),this.insideContainer(),d=a.find(".modal-dialog"),h=a.find(".modal-content"),this.settings.body_scroll||a.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(e){return t.contains(h[0],e.target)?void 0:(e.preventDefault(),!1)}),0==this.settings.backdrop&&a.addClass("no-backdrop")},this.show=function(){if(0==this.settings.backdrop)try{a.data("bs.modal").$backdrop.remove()}catch(e){}this.container?t(this.container).addClass("overflow-hidden"):a.css("position","fixed"),a.removeClass("aside-hidden")},this.hide=function(){this.container&&(this.container.addClass("overflow-hidden"),ace.vars.firefox&&e.offsetHeight),f(),ace.vars.transition&&!r&&a.one("bsTransitionEnd",function(){a.addClass("aside-hidden"),a.css("position",""),s.container&&s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(u)},this.shown=function(){if(f(),t("body").removeClass("modal-open").css("padding-right",""),"invisible"==this.settings.backdrop)try{a.data("bs.modal").$backdrop.css("opacity",0)}catch(e){}var i=l?h.height():d.height();ace.vars.touch?h.addClass("overflow-scroll").css("max-height",i+"px"):h.hasClass("ace-scroll")||h.ace_scroll({size:i,reset:!0,mouseWheelLock:!0,lockAnyway:!this.settings.body_scroll,styleClass:this.settings.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500}),n.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)h.css("max-height",(l?h.height():d.height())+"px");else{h.ace_scroll("disable");var t=l?h.height():d.height();h.ace_scroll("update",{size:t}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside"),s.container&&ace.vars.transition&&!r&&a.one("bsTransitionEnd",function(){s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(u)},this.hidden=function(){n.off(".aside"),ace.vars.transition&&!r||(a.addClass("aside-hidden"),a.css("position",""))},this.insideContainer=function(){var e=t(".main-container"),i=a.find(".modal-dialog");if(i.css({right:"",left:""}),e.hasClass("container")){var s=!1;1==l&&(i.css(o,parseInt((n.width()-e.width())/2)),s=!0),s&&ace.vars.firefox&&ace.helper.redraw(e[0])}},this.flip=function(){var t={right:"left",left:"right",top:"bottom",bottom:"top"};a.removeClass("aside-"+o).addClass("aside-"+t[o]),o=t[o]};var f=function t(){var e=a.find(".aside-trigger");if(0!=e.length){e.toggleClass("open");var i=e.find(ace.vars[".icon"]);0!=i.length&&i.toggleClass(i.attr("data-icon1")+" "+i.attr("data-icon2"))}};this.initiate(),this.container&&(this.container=t(this.container)),a.appendTo(this.container||"body")}var n=t(window);t(document).on("show.bs.modal",".modal.aside",function(e){t(".aside.in").modal("hide"),t(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(e){t(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(e){t(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(e){t(this).ace_aside("hidden")}),t(window).on("resize.aside_container",function(){t(".modal.aside").ace_aside("insideContainer")}),t(document).on("settings.ace.aside",function(e,i){"main_container_fixed"==i&&t(".modal.aside").ace_aside("insideContainer")}),t.fn.aceAside=t.fn.ace_aside=function(n,s){var a,o=this.each(function(){var e=t(this),o=e.data("ace_aside"),l="object"==typeof n&&n;o||e.data("ace_aside",o=new i(this,l)),"string"==typeof n&&"function"==typeof o[n]&&(a=s instanceof Array?o[n].apply(o,s):o[n](s))});return a===e?o:a},t.fn.ace_aside.defaults={fixed:!1,background:!1,offset:!1,body_scroll:!1,transition:!0,scroll_style:"scroll-dark no-track",container:null,backdrop:!1,placement:"right"}}(window.jQuery);