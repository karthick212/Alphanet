!function(t,i,e){"use strict";var s=function i(e,s){this.widget="",this.$element=t(e),this.defaultTime=s.defaultTime,this.disableFocus=s.disableFocus,this.disableMousewheel=s.disableMousewheel,this.isOpen=s.isOpen,this.minuteStep=s.minuteStep,this.modalBackdrop=s.modalBackdrop,this.orientation=s.orientation,this.secondStep=s.secondStep,this.snapToStep=s.snapToStep,this.showInputs=s.showInputs,this.showMeridian=s.showMeridian,this.showSeconds=s.showSeconds,this.template=s.template,this.appendWidgetTo=s.appendWidgetTo,this.showWidgetOnAddonClick=s.showWidgetOnAddonClick,this.icons=s.icons,this.maxHours=s.maxHours,this.explicitMode=s.explicitMode,this.handleDocumentClick=function(t){var i=t.data.scope;i.$element.parent().find(t.target).length||i.$widget.is(t.target)||i.$widget.find(t.target).length||i.hideWidget()},this._init()};s.prototype={constructor:s,_init:function i(){var e=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.template!==!1?this.$widget=t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function i(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function t(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function t(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function t(){if(this.showMeridian){if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function t(i){var e;e=i?this.minute-i:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function t(){var i=this.second-this.secondStep;0>i?(this.decrementMinute(!0),this.second=i+60):this.second=i},elementKeydown:function t(i){switch(i.which){case 9:if(i.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}i.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:i.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(i.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:i.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(i.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function t(){var i=this.$element.get(0);if("selectionStart"in i)return i.selectionStart;if(e.selection){i.focus();var s=e.selection.createRange(),h=e.selection.createRange().text.length;return s.moveStart("character",-i.value.length),s.text.length-h}},getTemplate:function t(){var i,e,s,h,n,o;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',s='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',h='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',s='<span class="bootstrap-timepicker-minute"></span>',h='<span class="bootstrap-timepicker-second"></span>',n='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+s+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+h+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+n+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":i='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+o+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":i='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return i},getTime:function t(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function i(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(e).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function t(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function t(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function t(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function t(){var i=this.$element.get(0),e=this;this.highlightedUnit="hour",i.setSelectionRange&&setTimeout(function(){e.hour<10?i.setSelectionRange(0,1):i.setSelectionRange(0,2)},0)},highlightMinute:function t(){var i=this.$element.get(0),e=this;this.highlightedUnit="minute",i.setSelectionRange&&setTimeout(function(){e.hour<10?i.setSelectionRange(2,4):i.setSelectionRange(3,5)},0)},highlightSecond:function t(){var i=this.$element.get(0),e=this;this.highlightedUnit="second",i.setSelectionRange&&setTimeout(function(){e.hour<10?i.setSelectionRange(5,7):i.setSelectionRange(6,8)},0)},highlightMeridian:function t(){var i=this.$element.get(0),e=this;this.highlightedUnit="meridian",i.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?i.setSelectionRange(8,10):i.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?i.setSelectionRange(5,7):i.setSelectionRange(6,8)},0))},incrementHour:function t(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function t(i){var e;e=i?this.minute+i:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function t(){var i=this.second+this.secondStep-this.second%this.secondStep;i>59?(this.incrementMinute(!0),this.second=i-60):this.second=i},mousewheel:function i(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var s=e.originalEvent.wheelDelta||-e.originalEvent.detail,h=null;switch("mousewheel"===e.type?h=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(h=40*e.originalEvent.detail),h&&(e.preventDefault(),t(this).scrollTop(h+t(this).scrollTop())),this.highlightedUnit){case"minute":s>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":s>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:s>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function t(i,e){return i%e===0?i:Math.round(i%e/e)?(i+(e-i%e))%60:i-i%e},place:function e(){if(!this.isInline){var s=this.$widget.outerWidth(),h=this.$widget.outerHeight(),n=10,o=t(i).width(),a=t(i).height(),r=t(i).scrollTop(),d=parseInt(this.$element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"),10)+10,c=this.component?this.component.parent().offset():this.$element.offset(),l=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),p=c.left,m=c.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(p-=s-u)):(this.$widget.addClass("timepicker-orient-left"),c.left<0?p-=c.left-n:c.left+s>o&&(p=o-s-n));var g,w,f=this.orientation.y;"auto"===f&&(g=-r+c.top-h,w=r+a-(c.top+l+h),f=Math.max(g,w)===w?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+f),"top"===f?m+=l:m-=h+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:m,left:p,zIndex:d})}},remove:function i(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function t(i){if(this.$element.val())this.updateFromElementVal();else if("current"===i){var e=new Date,s=e.getHours(),h=e.getMinutes(),n=e.getSeconds(),o="AM";0!==n&&(n=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep,60===n&&(h+=1,n=0)),0!==h&&(h=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep,60===h&&(s+=1,h=0)),this.showMeridian&&(0===s?s=12:s>=12?(s>12&&(s-=12),o="PM"):o="AM"),this.hour=s,this.minute=h,this.second=n,this.meridian=o,this.update()}else i===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(i)},setTime:function t(i,e){if(!i)return void this.clear();var s,h,n,o,a,r;if("object"==typeof i&&i.getMonth)n=i.getHours(),o=i.getMinutes(),a=i.getSeconds(),this.showMeridian&&(r="AM",n>12&&(r="PM",n%=12),12===n&&(r="PM"));else{if(s=(/a/i.test(i)?1:0)+(/p/i.test(i)?2:0),s>2)return void this.clear();if(h=i.replace(/[^0-9\:]/g,"").split(":"),n=h[0]?h[0].toString():h.toString(),this.explicitMode&&n.length>2&&n.length%2!==0)return void this.clear();o=h[1]?h[1].toString():"",a=h[2]?h[2].toString():"",n.length>4&&(a=n.slice(-2),n=n.slice(0,-2)),n.length>2&&(o=n.slice(-2),n=n.slice(0,-2)),o.length>2&&(a=o.slice(-2),o=o.slice(0,-2)),n=parseInt(n,10),o=parseInt(o,10),a=parseInt(a,10),isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),a>59&&(a=59),o>59&&(o=59),n>=this.maxHours&&(n=this.maxHours-1),this.showMeridian?(n>12&&(s=2,n-=12),s||(s=1),0===n&&(n=12),r=1===s?"AM":"PM"):12>n&&2===s?n+=12:n>=this.maxHours?n=this.maxHours-1:(0>n||12===n&&1===s)&&(n=0)}this.hour=n,this.snapToStep?(this.minute=this.changeToNearestStep(o,this.minuteStep),this.second=this.changeToNearestStep(a,this.secondStep)):(this.minute=o,this.second=a),this.meridian=r,this.update(e)},showWidget:function i(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),t(e).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function t(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function t(i){this.updateElement(),i||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function t(){this.$element.val(this.getTime()).change()},updateFromElementVal:function t(){this.setTime(this.$element.val())},updateWidget:function t(){if(this.$widget!==!1){var i=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,s=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(i),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(s),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(i),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(s),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function t(){if(this.$widget!==!1){var i=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(i,!0)}},widgetClick:function i(e){e.stopPropagation(),e.preventDefault();var s=t(e.target),h=s.closest("a").data("action");h&&this[h](),this.update(),s.is("input")&&s.get(0).setSelectionRange(0,2)},widgetKeydown:function i(e){var s=t(e.target),h=s.attr("class").replace("bootstrap-timepicker-","");switch(e.which){case 9:if(e.shiftKey){if("hour"===h)return this.hideWidget()}else if(this.showMeridian&&"meridian"===h||this.showSeconds&&"second"===h||!this.showMeridian&&!this.showSeconds&&"minute"===h)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),h){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),s.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),h){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),s.get(0).setSelectionRange(0,2)}},widgetKeyup:function t(i){(65===i.which||77===i.which||80===i.which||46===i.which||8===i.which||i.which>=48&&i.which<=57||i.which>=96&&i.which<=105)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(i){var e=Array.apply(null,arguments);return e.shift(),this.each(function(){var h=t(this),n=h.data("timepicker"),o="object"==typeof i&&i;n||h.data("timepicker",n=new s(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof i&&n[i].apply(n,e)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},t.fn.timepicker.Constructor=s,t(e).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(i){var e=t(this);e.data("timepicker")||(i.preventDefault(),e.timepicker())})}(jQuery,window,document);